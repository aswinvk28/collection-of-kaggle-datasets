\documentclass[11pt]{article}

    \usepackage[breakable]{tcolorbox}
    \usepackage{parskip} % Stop auto-indenting (to mimic markdown behaviour)
    

    % Basic figure setup, for now with no caption control since it's done
    % automatically by Pandoc (which extracts ![](path) syntax from Markdown).
    \usepackage{graphicx}
    % Keep aspect ratio if custom image width or height is specified
    \setkeys{Gin}{keepaspectratio}
    % Maintain compatibility with old templates. Remove in nbconvert 6.0
    \let\Oldincludegraphics\includegraphics
    % Ensure that by default, figures have no caption (until we provide a
    % proper Figure object with a Caption API and a way to capture that
    % in the conversion process - todo).
    \usepackage{caption}
    \DeclareCaptionFormat{nocaption}{}
    \captionsetup{format=nocaption,aboveskip=0pt,belowskip=0pt}

    \usepackage{float}
    \floatplacement{figure}{H} % forces figures to be placed at the correct location
    \usepackage{xcolor} % Allow colors to be defined
    \usepackage{enumerate} % Needed for markdown enumerations to work
    \usepackage{geometry} % Used to adjust the document margins
    \usepackage{amsmath} % Equations
    \usepackage{amssymb} % Equations
    \usepackage{textcomp} % defines textquotesingle
    % Hack from http://tex.stackexchange.com/a/47451/13684:
    \AtBeginDocument{%
        \def\PYZsq{\textquotesingle}% Upright quotes in Pygmentized code
    }
    \usepackage{upquote} % Upright quotes for verbatim code
    \usepackage{eurosym} % defines \euro

    \usepackage{iftex}
    \ifPDFTeX
        \usepackage[T1]{fontenc}
        \IfFileExists{alphabeta.sty}{
              \usepackage{alphabeta}
          }{
              \usepackage[mathletters]{ucs}
              \usepackage[utf8x]{inputenc}
          }
    \else
        \usepackage{fontspec}
        \usepackage{unicode-math}
    \fi

    \usepackage{fancyvrb} % verbatim replacement that allows latex
    \usepackage{grffile} % extends the file name processing of package graphics
                         % to support a larger range
    \makeatletter % fix for old versions of grffile with XeLaTeX
    \@ifpackagelater{grffile}{2019/11/01}
    {
      % Do nothing on new versions
    }
    {
      \def\Gread@@xetex#1{%
        \IfFileExists{"\Gin@base".bb}%
        {\Gread@eps{\Gin@base.bb}}%
        {\Gread@@xetex@aux#1}%
      }
    }
    \makeatother
    \usepackage[Export]{adjustbox} % Used to constrain images to a maximum size
    \adjustboxset{max size={0.9\linewidth}{0.9\paperheight}}

    % The hyperref package gives us a pdf with properly built
    % internal navigation ('pdf bookmarks' for the table of contents,
    % internal cross-reference links, web links for URLs, etc.)
    \usepackage{hyperref}
    % The default LaTeX title has an obnoxious amount of whitespace. By default,
    % titling removes some of it. It also provides customization options.
    \usepackage{titling}
    \usepackage{longtable} % longtable support required by pandoc >1.10
    \usepackage{booktabs}  % table support for pandoc > 1.12.2
    \usepackage{array}     % table support for pandoc >= 2.11.3
    \usepackage{calc}      % table minipage width calculation for pandoc >= 2.11.1
    \usepackage[inline]{enumitem} % IRkernel/repr support (it uses the enumerate* environment)
    \usepackage[normalem]{ulem} % ulem is needed to support strikethroughs (\sout)
                                % normalem makes italics be italics, not underlines
    \usepackage{soul}      % strikethrough (\st) support for pandoc >= 3.0.0
    \usepackage{mathrsfs}
    

    
    % Colors for the hyperref package
    \definecolor{urlcolor}{rgb}{0,.145,.698}
    \definecolor{linkcolor}{rgb}{.71,0.21,0.01}
    \definecolor{citecolor}{rgb}{.12,.54,.11}

    % ANSI colors
    \definecolor{ansi-black}{HTML}{3E424D}
    \definecolor{ansi-black-intense}{HTML}{282C36}
    \definecolor{ansi-red}{HTML}{E75C58}
    \definecolor{ansi-red-intense}{HTML}{B22B31}
    \definecolor{ansi-green}{HTML}{00A250}
    \definecolor{ansi-green-intense}{HTML}{007427}
    \definecolor{ansi-yellow}{HTML}{DDB62B}
    \definecolor{ansi-yellow-intense}{HTML}{B27D12}
    \definecolor{ansi-blue}{HTML}{208FFB}
    \definecolor{ansi-blue-intense}{HTML}{0065CA}
    \definecolor{ansi-magenta}{HTML}{D160C4}
    \definecolor{ansi-magenta-intense}{HTML}{A03196}
    \definecolor{ansi-cyan}{HTML}{60C6C8}
    \definecolor{ansi-cyan-intense}{HTML}{258F8F}
    \definecolor{ansi-white}{HTML}{C5C1B4}
    \definecolor{ansi-white-intense}{HTML}{A1A6B2}
    \definecolor{ansi-default-inverse-fg}{HTML}{FFFFFF}
    \definecolor{ansi-default-inverse-bg}{HTML}{000000}

    % common color for the border for error outputs.
    \definecolor{outerrorbackground}{HTML}{FFDFDF}

    % commands and environments needed by pandoc snippets
    % extracted from the output of `pandoc -s`
    \providecommand{\tightlist}{%
      \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
    \DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
    % Add ',fontsize=\small' for more characters per line
    \newenvironment{Shaded}{}{}
    \newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.56,0.13,0.00}{{#1}}}
    \newcommand{\DecValTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\FloatTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\CharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\StringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\CommentTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textit{{#1}}}}
    \newcommand{\OtherTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{{#1}}}
    \newcommand{\AlertTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.02,0.16,0.49}{{#1}}}
    \newcommand{\RegionMarkerTok}[1]{{#1}}
    \newcommand{\ErrorTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\NormalTok}[1]{{#1}}

    % Additional commands for more recent versions of Pandoc
    \newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.53,0.00,0.00}{{#1}}}
    \newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.73,0.40,0.53}{{#1}}}
    \newcommand{\ImportTok}[1]{{#1}}
    \newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.73,0.13,0.13}{\textit{{#1}}}}
    \newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\VariableTok}[1]{\textcolor[rgb]{0.10,0.09,0.49}{{#1}}}
    \newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.40,0.40,0.40}{{#1}}}
    \newcommand{\BuiltInTok}[1]{{#1}}
    \newcommand{\ExtensionTok}[1]{{#1}}
    \newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.74,0.48,0.00}{{#1}}}
    \newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.49,0.56,0.16}{{#1}}}
    \newcommand{\InformationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\WarningTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}


    % Define a nice break command that doesn't care if a line doesn't already
    % exist.
    \def\br{\hspace*{\fill} \\* }
    % Math Jax compatibility definitions
    \def\gt{>}
    \def\lt{<}
    \let\Oldtex\TeX
    \let\Oldlatex\LaTeX
    \renewcommand{\TeX}{\textrm{\Oldtex}}
    \renewcommand{\LaTeX}{\textrm{\Oldlatex}}
    % Document parameters
    % Document title
    \title{Practical\_Project\_for\_Airbnb\_Open\_Data}
    
    
    
    
    
    
    
% Pygments definitions
\makeatletter
\def\PY@reset{\let\PY@it=\relax \let\PY@bf=\relax%
    \let\PY@ul=\relax \let\PY@tc=\relax%
    \let\PY@bc=\relax \let\PY@ff=\relax}
\def\PY@tok#1{\csname PY@tok@#1\endcsname}
\def\PY@toks#1+{\ifx\relax#1\empty\else%
    \PY@tok{#1}\expandafter\PY@toks\fi}
\def\PY@do#1{\PY@bc{\PY@tc{\PY@ul{%
    \PY@it{\PY@bf{\PY@ff{#1}}}}}}}
\def\PY#1#2{\PY@reset\PY@toks#1+\relax+\PY@do{#2}}

\@namedef{PY@tok@w}{\def\PY@tc##1{\textcolor[rgb]{0.73,0.73,0.73}{##1}}}
\@namedef{PY@tok@c}{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.24,0.48,0.48}{##1}}}
\@namedef{PY@tok@cp}{\def\PY@tc##1{\textcolor[rgb]{0.61,0.40,0.00}{##1}}}
\@namedef{PY@tok@k}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\@namedef{PY@tok@kp}{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\@namedef{PY@tok@kt}{\def\PY@tc##1{\textcolor[rgb]{0.69,0.00,0.25}{##1}}}
\@namedef{PY@tok@o}{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\@namedef{PY@tok@ow}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\@namedef{PY@tok@nb}{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\@namedef{PY@tok@nf}{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\@namedef{PY@tok@nc}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\@namedef{PY@tok@nn}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\@namedef{PY@tok@ne}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.80,0.25,0.22}{##1}}}
\@namedef{PY@tok@nv}{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\@namedef{PY@tok@no}{\def\PY@tc##1{\textcolor[rgb]{0.53,0.00,0.00}{##1}}}
\@namedef{PY@tok@nl}{\def\PY@tc##1{\textcolor[rgb]{0.46,0.46,0.00}{##1}}}
\@namedef{PY@tok@ni}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.44,0.44,0.44}{##1}}}
\@namedef{PY@tok@na}{\def\PY@tc##1{\textcolor[rgb]{0.41,0.47,0.13}{##1}}}
\@namedef{PY@tok@nt}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\@namedef{PY@tok@nd}{\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\@namedef{PY@tok@s}{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\@namedef{PY@tok@sd}{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\@namedef{PY@tok@si}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.64,0.35,0.47}{##1}}}
\@namedef{PY@tok@se}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.67,0.36,0.12}{##1}}}
\@namedef{PY@tok@sr}{\def\PY@tc##1{\textcolor[rgb]{0.64,0.35,0.47}{##1}}}
\@namedef{PY@tok@ss}{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\@namedef{PY@tok@sx}{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\@namedef{PY@tok@m}{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\@namedef{PY@tok@gh}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\@namedef{PY@tok@gu}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.50,0.00,0.50}{##1}}}
\@namedef{PY@tok@gd}{\def\PY@tc##1{\textcolor[rgb]{0.63,0.00,0.00}{##1}}}
\@namedef{PY@tok@gi}{\def\PY@tc##1{\textcolor[rgb]{0.00,0.52,0.00}{##1}}}
\@namedef{PY@tok@gr}{\def\PY@tc##1{\textcolor[rgb]{0.89,0.00,0.00}{##1}}}
\@namedef{PY@tok@ge}{\let\PY@it=\textit}
\@namedef{PY@tok@gs}{\let\PY@bf=\textbf}
\@namedef{PY@tok@ges}{\let\PY@bf=\textbf\let\PY@it=\textit}
\@namedef{PY@tok@gp}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\@namedef{PY@tok@go}{\def\PY@tc##1{\textcolor[rgb]{0.44,0.44,0.44}{##1}}}
\@namedef{PY@tok@gt}{\def\PY@tc##1{\textcolor[rgb]{0.00,0.27,0.87}{##1}}}
\@namedef{PY@tok@err}{\def\PY@bc##1{{\setlength{\fboxsep}{\string -\fboxrule}\fcolorbox[rgb]{1.00,0.00,0.00}{1,1,1}{\strut ##1}}}}
\@namedef{PY@tok@kc}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\@namedef{PY@tok@kd}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\@namedef{PY@tok@kn}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\@namedef{PY@tok@kr}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\@namedef{PY@tok@bp}{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\@namedef{PY@tok@fm}{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\@namedef{PY@tok@vc}{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\@namedef{PY@tok@vg}{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\@namedef{PY@tok@vi}{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\@namedef{PY@tok@vm}{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\@namedef{PY@tok@sa}{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\@namedef{PY@tok@sb}{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\@namedef{PY@tok@sc}{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\@namedef{PY@tok@dl}{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\@namedef{PY@tok@s2}{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\@namedef{PY@tok@sh}{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\@namedef{PY@tok@s1}{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\@namedef{PY@tok@mb}{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\@namedef{PY@tok@mf}{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\@namedef{PY@tok@mh}{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\@namedef{PY@tok@mi}{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\@namedef{PY@tok@il}{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\@namedef{PY@tok@mo}{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\@namedef{PY@tok@ch}{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.24,0.48,0.48}{##1}}}
\@namedef{PY@tok@cm}{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.24,0.48,0.48}{##1}}}
\@namedef{PY@tok@cpf}{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.24,0.48,0.48}{##1}}}
\@namedef{PY@tok@c1}{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.24,0.48,0.48}{##1}}}
\@namedef{PY@tok@cs}{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.24,0.48,0.48}{##1}}}

\def\PYZbs{\char`\\}
\def\PYZus{\char`\_}
\def\PYZob{\char`\{}
\def\PYZcb{\char`\}}
\def\PYZca{\char`\^}
\def\PYZam{\char`\&}
\def\PYZlt{\char`\<}
\def\PYZgt{\char`\>}
\def\PYZsh{\char`\#}
\def\PYZpc{\char`\%}
\def\PYZdl{\char`\$}
\def\PYZhy{\char`\-}
\def\PYZsq{\char`\'}
\def\PYZdq{\char`\"}
\def\PYZti{\char`\~}
% for compatibility with earlier versions
\def\PYZat{@}
\def\PYZlb{[}
\def\PYZrb{]}
\makeatother


    % For linebreaks inside Verbatim environment from package fancyvrb.
    \makeatletter
        \newbox\Wrappedcontinuationbox
        \newbox\Wrappedvisiblespacebox
        \newcommand*\Wrappedvisiblespace {\textcolor{red}{\textvisiblespace}}
        \newcommand*\Wrappedcontinuationsymbol {\textcolor{red}{\llap{\tiny$\m@th\hookrightarrow$}}}
        \newcommand*\Wrappedcontinuationindent {3ex }
        \newcommand*\Wrappedafterbreak {\kern\Wrappedcontinuationindent\copy\Wrappedcontinuationbox}
        % Take advantage of the already applied Pygments mark-up to insert
        % potential linebreaks for TeX processing.
        %        {, <, #, %, $, ' and ": go to next line.
        %        _, }, ^, &, >, - and ~: stay at end of broken line.
        % Use of \textquotesingle for straight quote.
        \newcommand*\Wrappedbreaksatspecials {%
            \def\PYGZus{\discretionary{\char`\_}{\Wrappedafterbreak}{\char`\_}}%
            \def\PYGZob{\discretionary{}{\Wrappedafterbreak\char`\{}{\char`\{}}%
            \def\PYGZcb{\discretionary{\char`\}}{\Wrappedafterbreak}{\char`\}}}%
            \def\PYGZca{\discretionary{\char`\^}{\Wrappedafterbreak}{\char`\^}}%
            \def\PYGZam{\discretionary{\char`\&}{\Wrappedafterbreak}{\char`\&}}%
            \def\PYGZlt{\discretionary{}{\Wrappedafterbreak\char`\<}{\char`\<}}%
            \def\PYGZgt{\discretionary{\char`\>}{\Wrappedafterbreak}{\char`\>}}%
            \def\PYGZsh{\discretionary{}{\Wrappedafterbreak\char`\#}{\char`\#}}%
            \def\PYGZpc{\discretionary{}{\Wrappedafterbreak\char`\%}{\char`\%}}%
            \def\PYGZdl{\discretionary{}{\Wrappedafterbreak\char`\$}{\char`\$}}%
            \def\PYGZhy{\discretionary{\char`\-}{\Wrappedafterbreak}{\char`\-}}%
            \def\PYGZsq{\discretionary{}{\Wrappedafterbreak\textquotesingle}{\textquotesingle}}%
            \def\PYGZdq{\discretionary{}{\Wrappedafterbreak\char`\"}{\char`\"}}%
            \def\PYGZti{\discretionary{\char`\~}{\Wrappedafterbreak}{\char`\~}}%
        }
        % Some characters . , ; ? ! / are not pygmentized.
        % This macro makes them "active" and they will insert potential linebreaks
        \newcommand*\Wrappedbreaksatpunct {%
            \lccode`\~`\.\lowercase{\def~}{\discretionary{\hbox{\char`\.}}{\Wrappedafterbreak}{\hbox{\char`\.}}}%
            \lccode`\~`\,\lowercase{\def~}{\discretionary{\hbox{\char`\,}}{\Wrappedafterbreak}{\hbox{\char`\,}}}%
            \lccode`\~`\;\lowercase{\def~}{\discretionary{\hbox{\char`\;}}{\Wrappedafterbreak}{\hbox{\char`\;}}}%
            \lccode`\~`\:\lowercase{\def~}{\discretionary{\hbox{\char`\:}}{\Wrappedafterbreak}{\hbox{\char`\:}}}%
            \lccode`\~`\?\lowercase{\def~}{\discretionary{\hbox{\char`\?}}{\Wrappedafterbreak}{\hbox{\char`\?}}}%
            \lccode`\~`\!\lowercase{\def~}{\discretionary{\hbox{\char`\!}}{\Wrappedafterbreak}{\hbox{\char`\!}}}%
            \lccode`\~`\/\lowercase{\def~}{\discretionary{\hbox{\char`\/}}{\Wrappedafterbreak}{\hbox{\char`\/}}}%
            \catcode`\.\active
            \catcode`\,\active
            \catcode`\;\active
            \catcode`\:\active
            \catcode`\?\active
            \catcode`\!\active
            \catcode`\/\active
            \lccode`\~`\~
        }
    \makeatother

    \let\OriginalVerbatim=\Verbatim
    \makeatletter
    \renewcommand{\Verbatim}[1][1]{%
        %\parskip\z@skip
        \sbox\Wrappedcontinuationbox {\Wrappedcontinuationsymbol}%
        \sbox\Wrappedvisiblespacebox {\FV@SetupFont\Wrappedvisiblespace}%
        \def\FancyVerbFormatLine ##1{\hsize\linewidth
            \vtop{\raggedright\hyphenpenalty\z@\exhyphenpenalty\z@
                \doublehyphendemerits\z@\finalhyphendemerits\z@
                \strut ##1\strut}%
        }%
        % If the linebreak is at a space, the latter will be displayed as visible
        % space at end of first line, and a continuation symbol starts next line.
        % Stretch/shrink are however usually zero for typewriter font.
        \def\FV@Space {%
            \nobreak\hskip\z@ plus\fontdimen3\font minus\fontdimen4\font
            \discretionary{\copy\Wrappedvisiblespacebox}{\Wrappedafterbreak}
            {\kern\fontdimen2\font}%
        }%

        % Allow breaks at special characters using \PYG... macros.
        \Wrappedbreaksatspecials
        % Breaks at punctuation characters . , ; ? ! and / need catcode=\active
        \OriginalVerbatim[#1,codes*=\Wrappedbreaksatpunct]%
    }
    \makeatother

    % Exact colors from NB
    \definecolor{incolor}{HTML}{303F9F}
    \definecolor{outcolor}{HTML}{D84315}
    \definecolor{cellborder}{HTML}{CFCFCF}
    \definecolor{cellbackground}{HTML}{F7F7F7}

    % prompt
    \makeatletter
    \newcommand{\boxspacing}{\kern\kvtcb@left@rule\kern\kvtcb@boxsep}
    \makeatother
    \newcommand{\prompt}[4]{
        {\ttfamily\llap{{\color{#2}[#3]:\hspace{3pt}#4}}\vspace{-\baselineskip}}
    }
    

    
    % Prevent overflowing lines due to hard-to-break entities
    \sloppy
    % Setup hyperref package
    \hypersetup{
      breaklinks=true,  % so long urls are correctly broken across lines
      colorlinks=true,
      urlcolor=urlcolor,
      linkcolor=linkcolor,
      citecolor=citecolor,
      }
    % Slightly bigger margins than the latex defaults
    
    \geometry{verbose,tmargin=1in,bmargin=1in,lmargin=1in,rmargin=1in}
    
    

\begin{document}
    
    \maketitle
    
    

    
    Practical Project for Airbnb Open Data

    \hypertarget{exploratory-data-analysis}{%
\section{Exploratory Data Analysis}\label{exploratory-data-analysis}}

    \hypertarget{data-science-project-airbnb-tutorial-data}{%
\section{Data Science Project (Airbnb Tutorial
Data)}\label{data-science-project-airbnb-tutorial-data}}

\begin{itemize}
\tightlist
\item
  Github Link: \href{}{Practical-Project-for-Airbnb-Open-Data.pdf}
\item
  Colab Link:
  \href{https://colab.research.google.com/drive/1xUeS_hPeF2Zrs31_Q_AKBoRKP0sOk8kd?usp=sharing}{Practical-Project-for-Airbnb-Open-Data.ipynb}
\item
  Kaggle Link:
  \href{https://www.kaggle.com/datasets/arianazmoudeh/airbnbopendata/data}{Airbnb
  Open Data}
\end{itemize}

    \hypertarget{an-exploratory-data-analysis-through-detailing-airbnb-open-data-containing-real-estate-property-rental-accommodation-reviews-and-ratings}{%
\section{An Exploratory Data Analysis through Detailing Airbnb Open Data
containing Real Estate Property \& Rental Accommodation Reviews and
Ratings}\label{an-exploratory-data-analysis-through-detailing-airbnb-open-data-containing-real-estate-property-rental-accommodation-reviews-and-ratings}}

    \hypertarget{dataset}{%
\section{Dataset}\label{dataset}}

    \hypertarget{attribute-classification-of-the-dataset}{%
\subsection{ATTRIBUTE CLASSIFICATION OF THE
DATASET}\label{attribute-classification-of-the-dataset}}

    \hypertarget{host-identifier-airbnb_open_data.csv}{%
\subsubsection{Host Identifier
(AirBnb\_Open\_Data.csv)}\label{host-identifier-airbnb_open_data.csv}}

\begin{itemize}
\tightlist
\item
  1.INT.1 id A Machine identifier of the listing
\item
  2.INT.2 host id A mMachine Identifier of the host
\end{itemize}

\hypertarget{description-line-for-accommodation-a-sub-attribute-airbnb_open_data.csv}{%
\subsubsection{Description Line for Accommodation, a Sub Attribute
(AirBnb\_Open\_Data.csv)}\label{description-line-for-accommodation-a-sub-attribute-airbnb_open_data.csv}}

\begin{itemize}
\tightlist
\item
  3.TEXT.1 NAME A Description in a single line format for the
  accommodation for which rating and price are provided
\item
  4.TEXT.2 house\_rules Rules for the housing accommodation
\end{itemize}

\hypertarget{main-categorical-attributes-airbnb_open_data.csv}{%
\subsubsection{Main Categorical Attributes
(AirBnb\_Open\_Data.csv)}\label{main-categorical-attributes-airbnb_open_data.csv}}

\begin{itemize}
\tightlist
\item
  5.CATEGORICAL.1 host\_identifier\_verified Denotes whether the host
  identifier is verified
\item
  6.CATEGORICAL.2 host name Name of the host
\item
  7.CATEGORICAL.1 neighbourhood group A Locality or neighbourhood city,
  town or place for the accommodation
\item
  8.CATEGORICAL.2 neighbourhood Locality in the Neighbourhood
\item
  9.CATEGORICAL.3 country Country Name
\item
  10.CATEGORICAL.4 country code Country Code for the Country
\item
  11.CATEGORICAL.5 cancellation policy Policy for the cancellation of
  accommodation
\item
  12.CATEGORICAL.6 room type A Type for the Room rented
\item
  13.CATEGORICAL.7 Construction year The Year of Construction
\item
  14.CATEGORICAL.8 instant\_bookable Denotes whether the accommodation
  is bookable instantly
\item
  15.CATEGORICAL.9 license The License Details
\end{itemize}

\hypertarget{geographical-measures-airbnb_open_data.csv}{%
\subsubsection{Geographical Measures
(Airbnb\_Open\_Data.csv)}\label{geographical-measures-airbnb_open_data.csv}}

\begin{itemize}
\tightlist
\item
  16.FLOAT.1 lat The latitude of the location
\item
  17.FLOAT.2 long The Longitude of the location
\end{itemize}

\hypertarget{review-specific-date-information-airbnb_open_data.csv}{%
\subsubsection{Review Specific Date Information
(Airbnb\_Open\_Data.csv)}\label{review-specific-date-information-airbnb_open_data.csv}}

\begin{itemize}
\tightlist
\item
  18.DATE.1 last review The Date of the Last Review
\end{itemize}

\hypertarget{numerical-measures-airbnb_open_data.csv}{%
\subsubsection{Numerical Measures
(AirBnb\_Open\_Data.csv)}\label{numerical-measures-airbnb_open_data.csv}}

\begin{itemize}
\tightlist
\item
  19.INT.1 service fee The Service Fee
\item
  20.INT.2 minimum nights Minimum Number of Nights Spend
\item
  21.INT.3 number of reviews Number of Reviews
\item
  22.FLOAT.4 reviews per month Reviews per Month
\item
  23.INT.4 review rate number Rating A rating score for the reviews of
  the accommodation
\item
  24.INT.5 calculated host listings count The count of calculated host
  listings
\item
  25.INT.6 availability 365 The Availability Days of the Accommodation
  in the Market over a Year
\end{itemize}

\hypertarget{price-airbnb_open_data.csv}{%
\subsubsection{Price
(AirBnb\_Open\_Data.csv)}\label{price-airbnb_open_data.csv}}

\begin{itemize}
\tightlist
\item
  26.INT.1 Price The Price of the rented property
\end{itemize}

The dataset is a structured dataset of Airbnb Open Data Reviews and
Ratings.

The dataset is part of Kaggle dataset
\href{https://www.kaggle.com/datasets/arianazmoudeh/airbnbopendata/data}{Airbnb
Open Data}.

    \hypertarget{theory}{%
\subsection{Theory}\label{theory}}

The Boston Housing Dataset prices are dependent on number of bedroom
which is obviously missing in this scenario but could depend on service
fee. The prices are also dependent on number of schools in the locality
but in the rented prices there is no information on schools.

This creates another tension that may be additional data could be
collected through an internet search applied to the Neighbourhood Group.

We form 8-10 Research Questions (RQs) for Exploratory Data Analysis of
the Dataset.

    \hypertarget{initial-data-analysis}{%
\section{0.1 Initial Data Analysis}\label{initial-data-analysis}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{2}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{k+kn}{import} \PY{n+nn}{pandas} \PY{k}{as} \PY{n+nn}{pd}
\PY{k+kn}{import} \PY{n+nn}{numpy} \PY{k}{as} \PY{n+nn}{np}
\PY{k+kn}{import} \PY{n+nn}{matplotlib}\PY{n+nn}{.}\PY{n+nn}{pyplot} \PY{k}{as} \PY{n+nn}{plt}
\PY{k+kn}{import} \PY{n+nn}{seaborn} \PY{k}{as} \PY{n+nn}{sns}
\PY{k+kn}{import} \PY{n+nn}{geopandas} \PY{k}{as} \PY{n+nn}{gpd}
\PY{k+kn}{import} \PY{n+nn}{plotly}\PY{n+nn}{.}\PY{n+nn}{express} \PY{k}{as} \PY{n+nn}{px}
\PY{k+kn}{import} \PY{n+nn}{plotly}\PY{n+nn}{.}\PY{n+nn}{io} \PY{k}{as} \PY{n+nn}{pio}
\PY{k+kn}{from} \PY{n+nn}{IPython}\PY{n+nn}{.}\PY{n+nn}{display} \PY{k+kn}{import} \PY{n}{SVG}\PY{p}{,} \PY{n}{Image}
\PY{k+kn}{from} \PY{n+nn}{shapely}\PY{n+nn}{.}\PY{n+nn}{geometry} \PY{k+kn}{import} \PY{n}{Point}\PY{p}{,} \PY{n}{Polygon}
\PY{k+kn}{from} \PY{n+nn}{matplotlib}\PY{n+nn}{.}\PY{n+nn}{lines} \PY{k+kn}{import} \PY{n}{Line2D}
\PY{k+kn}{from} \PY{n+nn}{matplotlib}\PY{n+nn}{.}\PY{n+nn}{patches} \PY{k+kn}{import} \PY{n}{Rectangle}\PY{p}{,} \PY{n}{Circle}
\end{Verbatim}
\end{tcolorbox}

    \hypertarget{utility-functions}{%
\subsection{- UTILITY FUNCTIONS}\label{utility-functions}}

\textbf{Plotting Utility Functions}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{3}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{k}{def} \PY{n+nf}{setup\PYZus{}gridspec\PYZus{}\PYZus{}one\PYZus{}main\PYZus{}\PYZus{}two\PYZus{}side\PYZus{}subplots}\PY{p}{(}\PY{n}{plt}\PY{p}{)}\PY{p}{:}
\PY{+w}{    }\PY{l+s+sd}{\PYZsq{}\PYZsq{}\PYZsq{}}
\PY{l+s+sd}{    A grid plot with One Main Plot and 2 Side Plots that returns a grid, axes and figure}
\PY{l+s+sd}{    @param plt: Matplotlib PyPlot Class}
\PY{l+s+sd}{    @return: dict()}
\PY{l+s+sd}{    \PYZsq{}\PYZsq{}\PYZsq{}}
    \PY{c+c1}{\PYZsh{} start with a square Figure}
    \PY{n}{fig} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{16}\PY{p}{,} \PY{l+m+mi}{16}\PY{p}{)}\PY{p}{)}
    \PY{n}{fig}\PY{o}{.}\PY{n}{tight\PYZus{}layout}\PY{p}{(}\PY{n}{pad}\PY{o}{=}\PY{l+m+mf}{2.0}\PY{p}{)}

    \PY{n}{gs} \PY{o}{=} \PY{n}{fig}\PY{o}{.}\PY{n}{add\PYZus{}gridspec}\PY{p}{(}\PY{l+m+mi}{2}\PY{p}{,} \PY{l+m+mi}{2}\PY{p}{,}  \PY{n}{width\PYZus{}ratios}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{7}\PY{p}{,}\PY{l+m+mi}{4}\PY{p}{)}\PY{p}{,} \PY{n}{height\PYZus{}ratios}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{3}\PY{p}{,}\PY{l+m+mi}{7}\PY{p}{)}\PY{p}{,}
                          \PY{n}{left}\PY{o}{=}\PY{l+m+mf}{0.1}\PY{p}{,} \PY{n}{right}\PY{o}{=}\PY{l+m+mf}{0.9}\PY{p}{,} \PY{n}{bottom}\PY{o}{=}\PY{l+m+mf}{0.1}\PY{p}{,} \PY{n}{top}\PY{o}{=}\PY{l+m+mf}{0.9}\PY{p}{,}
                          \PY{n}{wspace}\PY{o}{=}\PY{l+m+mf}{0.15}\PY{p}{,} \PY{n}{hspace}\PY{o}{=}\PY{l+m+mf}{0.15}\PY{p}{)}
    \PY{n}{ax\PYZus{}0\PYZus{}0} \PY{o}{=} \PY{n}{fig}\PY{o}{.}\PY{n}{add\PYZus{}subplot}\PY{p}{(}\PY{n}{gs}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{)}

    \PY{n}{ax1\PYZus{}histx} \PY{o}{=} \PY{n}{fig}\PY{o}{.}\PY{n}{add\PYZus{}subplot}\PY{p}{(}\PY{n}{gs}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{0}\PY{p}{]}\PY{p}{,} \PY{n}{sharex}\PY{o}{=}\PY{n}{ax\PYZus{}0\PYZus{}0}\PY{p}{)}
    \PY{n}{ax1\PYZus{}histy} \PY{o}{=} \PY{n}{fig}\PY{o}{.}\PY{n}{add\PYZus{}subplot}\PY{p}{(}\PY{n}{gs}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{]}\PY{p}{,} \PY{n}{sharey}\PY{o}{=}\PY{n}{ax\PYZus{}0\PYZus{}0}\PY{p}{)}

    \PY{k}{return} \PY{p}{\PYZob{}}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{gridspec}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:} \PY{n}{gs}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{ax}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:} \PY{n}{ax\PYZus{}0\PYZus{}0}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{axx}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:} \PY{n}{ax1\PYZus{}histx}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{axy}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:} \PY{n}{ax1\PYZus{}histy}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{fig}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:} \PY{n}{fig}\PY{p}{\PYZcb{}}

\PY{k}{def} \PY{n+nf}{setup\PYZus{}gridspec\PYZus{}\PYZus{}four\PYZus{}main\PYZus{}\PYZus{}two\PYZus{}side\PYZus{}subplots}\PY{p}{(}\PY{n}{plt}\PY{p}{)}\PY{p}{:}
\PY{+w}{    }\PY{l+s+sd}{\PYZsq{}\PYZsq{}\PYZsq{}}
\PY{l+s+sd}{    A grid plot with Four Main Plot and 2 Side Plots Each that returns a grid, axes and figure}
\PY{l+s+sd}{    @param plt: Matplotlib PyPlot Class}
\PY{l+s+sd}{    @return: dict()}
\PY{l+s+sd}{    \PYZsq{}\PYZsq{}\PYZsq{}}
    \PY{c+c1}{\PYZsh{} start with a square Figure}
    \PY{n}{fig} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{12}\PY{p}{,} \PY{l+m+mi}{16}\PY{p}{)}\PY{p}{)}
    \PY{n}{fig}\PY{o}{.}\PY{n}{tight\PYZus{}layout}\PY{p}{(}\PY{n}{pad}\PY{o}{=}\PY{l+m+mf}{5.0}\PY{p}{)}

    \PY{n}{gs} \PY{o}{=} \PY{n}{fig}\PY{o}{.}\PY{n}{add\PYZus{}gridspec}\PY{p}{(}\PY{l+m+mi}{4}\PY{p}{,} \PY{l+m+mi}{4}\PY{p}{,}  \PY{n}{width\PYZus{}ratios}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{8}\PY{p}{,}\PY{l+m+mi}{3}\PY{p}{,}\PY{l+m+mi}{8}\PY{p}{,}\PY{l+m+mi}{3}\PY{p}{)}\PY{p}{,} \PY{n}{height\PYZus{}ratios}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{3}\PY{p}{,}\PY{l+m+mi}{7}\PY{p}{,}\PY{l+m+mi}{3}\PY{p}{,}\PY{l+m+mi}{7}\PY{p}{)}\PY{p}{,}
                          \PY{n}{left}\PY{o}{=}\PY{l+m+mf}{0.1}\PY{p}{,} \PY{n}{right}\PY{o}{=}\PY{l+m+mf}{0.9}\PY{p}{,} \PY{n}{bottom}\PY{o}{=}\PY{l+m+mf}{0.1}\PY{p}{,} \PY{n}{top}\PY{o}{=}\PY{l+m+mf}{0.9}\PY{p}{,}
                          \PY{n}{wspace}\PY{o}{=}\PY{l+m+mf}{0.15}\PY{p}{,} \PY{n}{hspace}\PY{o}{=}\PY{l+m+mf}{0.15}\PY{p}{)}
    \PY{n}{ax1} \PY{o}{=} \PY{n}{fig}\PY{o}{.}\PY{n}{add\PYZus{}subplot}\PY{p}{(}\PY{n}{gs}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{,} \PY{l+m+mi}{0}\PY{p}{]}\PY{p}{)}
    \PY{n}{ax2} \PY{o}{=} \PY{n}{fig}\PY{o}{.}\PY{n}{add\PYZus{}subplot}\PY{p}{(}\PY{n}{gs}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{,} \PY{l+m+mi}{2}\PY{p}{]}\PY{p}{)}
    \PY{n}{ax3} \PY{o}{=} \PY{n}{fig}\PY{o}{.}\PY{n}{add\PYZus{}subplot}\PY{p}{(}\PY{n}{gs}\PY{p}{[}\PY{l+m+mi}{3}\PY{p}{,} \PY{l+m+mi}{0}\PY{p}{]}\PY{p}{)}
    \PY{n}{ax4} \PY{o}{=} \PY{n}{fig}\PY{o}{.}\PY{n}{add\PYZus{}subplot}\PY{p}{(}\PY{n}{gs}\PY{p}{[}\PY{l+m+mi}{3}\PY{p}{,} \PY{l+m+mi}{2}\PY{p}{]}\PY{p}{)}

    \PY{n}{axx1} \PY{o}{=} \PY{n}{fig}\PY{o}{.}\PY{n}{add\PYZus{}subplot}\PY{p}{(}\PY{n}{gs}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{0}\PY{p}{]}\PY{p}{,} \PY{n}{sharex}\PY{o}{=}\PY{n}{ax1}\PY{p}{)}
    \PY{n}{axy1} \PY{o}{=} \PY{n}{fig}\PY{o}{.}\PY{n}{add\PYZus{}subplot}\PY{p}{(}\PY{n}{gs}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{]}\PY{p}{,} \PY{n}{sharey}\PY{o}{=}\PY{n}{ax1}\PY{p}{)}

    \PY{n}{axx2} \PY{o}{=} \PY{n}{fig}\PY{o}{.}\PY{n}{add\PYZus{}subplot}\PY{p}{(}\PY{n}{gs}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{2}\PY{p}{]}\PY{p}{,} \PY{n}{sharex}\PY{o}{=}\PY{n}{ax2}\PY{p}{)}
    \PY{n}{axy2} \PY{o}{=} \PY{n}{fig}\PY{o}{.}\PY{n}{add\PYZus{}subplot}\PY{p}{(}\PY{n}{gs}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{,} \PY{l+m+mi}{3}\PY{p}{]}\PY{p}{,} \PY{n}{sharey}\PY{o}{=}\PY{n}{ax2}\PY{p}{)}

    \PY{n}{axx3} \PY{o}{=} \PY{n}{fig}\PY{o}{.}\PY{n}{add\PYZus{}subplot}\PY{p}{(}\PY{n}{gs}\PY{p}{[}\PY{l+m+mi}{2}\PY{p}{,} \PY{l+m+mi}{0}\PY{p}{]}\PY{p}{,} \PY{n}{sharex}\PY{o}{=}\PY{n}{ax3}\PY{p}{)}
    \PY{n}{axy3} \PY{o}{=} \PY{n}{fig}\PY{o}{.}\PY{n}{add\PYZus{}subplot}\PY{p}{(}\PY{n}{gs}\PY{p}{[}\PY{l+m+mi}{3}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{]}\PY{p}{,} \PY{n}{sharey}\PY{o}{=}\PY{n}{ax3}\PY{p}{)}

    \PY{n}{axx4} \PY{o}{=} \PY{n}{fig}\PY{o}{.}\PY{n}{add\PYZus{}subplot}\PY{p}{(}\PY{n}{gs}\PY{p}{[}\PY{l+m+mi}{2}\PY{p}{,} \PY{l+m+mi}{2}\PY{p}{]}\PY{p}{,} \PY{n}{sharex}\PY{o}{=}\PY{n}{ax4}\PY{p}{)}
    \PY{n}{axy4} \PY{o}{=} \PY{n}{fig}\PY{o}{.}\PY{n}{add\PYZus{}subplot}\PY{p}{(}\PY{n}{gs}\PY{p}{[}\PY{l+m+mi}{3}\PY{p}{,} \PY{l+m+mi}{3}\PY{p}{]}\PY{p}{,} \PY{n}{sharey}\PY{o}{=}\PY{n}{ax4}\PY{p}{)}

    \PY{k}{return} \PY{p}{\PYZob{}}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{gridspec}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:} \PY{n}{gs}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{ax}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:} \PY{p}{(}\PY{n}{ax1}\PY{p}{,}\PY{n}{ax2}\PY{p}{,}\PY{n}{ax3}\PY{p}{,}\PY{n}{ax4}\PY{p}{)}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{axx}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:} \PY{p}{(}\PY{n}{axx1}\PY{p}{,} \PY{n}{axx2}\PY{p}{,} \PY{n}{axx3}\PY{p}{,} \PY{n}{axx4}\PY{p}{)}\PY{p}{,}
            \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{axy}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:} \PY{p}{(}\PY{n}{axy1}\PY{p}{,} \PY{n}{axy2}\PY{p}{,} \PY{n}{axy3}\PY{p}{,} \PY{n}{axy4}\PY{p}{)}\PY{p}{,} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{fig}\PY{l+s+s2}{\PYZdq{}}\PY{p}{:} \PY{n}{fig}\PY{p}{\PYZcb{}}

\PY{k}{def} \PY{n+nf}{plot\PYZus{}loadings\PYZus{}plot}\PY{p}{(}\PY{n}{plt}\PY{p}{,} \PY{n}{X\PYZus{}pca}\PY{p}{,} \PY{n}{df}\PY{p}{,} \PY{n}{ax}\PY{p}{,} \PY{n}{eigen\PYZus{}vectors}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{2}\PY{p}{,}\PY{l+m+mi}{3}\PY{p}{,}\PY{l+m+mi}{4}\PY{p}{)}\PY{p}{)}\PY{p}{:}
\PY{+w}{    }\PY{l+s+sd}{\PYZsq{}\PYZsq{}\PYZsq{}}
\PY{l+s+sd}{    Loadings Plot using Matplotlib}
\PY{l+s+sd}{    Plots Loadings or Eigen vectors in dimension 1 and dimension 2 for all columns supplied into the function}
\PY{l+s+sd}{    @param plt: Matplotlib PyPlot Class}
\PY{l+s+sd}{    @param X\PYZus{}pca: Transformed PCA Array}
\PY{l+s+sd}{    @param df: The original DataFrame}
\PY{l+s+sd}{    @param ax: Matplotlib Axis}
\PY{l+s+sd}{    @param eigen\PYZus{}vectors: Selected Eigen Vectors to display on the Loadings Plot}
\PY{l+s+sd}{    @return: None}
\PY{l+s+sd}{    \PYZsq{}\PYZsq{}\PYZsq{}}
    \PY{c+c1}{\PYZsh{} obtain color palette}
    \PY{n}{palette} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{array}\PY{p}{(}\PY{n}{sns}\PY{o}{.}\PY{n}{color\PYZus{}palette}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{hls}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{l+m+mi}{10}\PY{p}{)}\PY{p}{)}
    \PY{c+c1}{\PYZsh{} Features x Dimensions, eigen vector is a column matrix, loadings for arrow plotting}
    \PY{n}{loadings} \PY{o}{=} \PY{n}{pc}\PY{o}{.}\PY{n}{T}
    \PY{c+c1}{\PYZsh{} plot eigen vectors}
    \PY{n}{arrow\PYZus{}size}\PY{p}{,} \PY{n}{text\PYZus{}pos} \PY{o}{=} \PY{l+m+mf}{1.0}\PY{p}{,} \PY{l+m+mf}{1.12}
    \PY{k}{for} \PY{n}{ii}\PY{p}{,}\PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{enumerate}\PY{p}{(}\PY{n}{eigen\PYZus{}vectors}\PY{p}{)}\PY{p}{:}
        \PY{n}{ax}\PY{o}{.}\PY{n}{arrow}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{0}\PY{p}{,}\PY{n}{arrow\PYZus{}size}\PY{o}{*}\PY{n}{loadings}\PY{p}{[}\PY{n}{i}\PY{p}{,}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{,} \PY{n}{arrow\PYZus{}size}\PY{o}{*}\PY{n}{loadings}\PY{p}{[}\PY{n}{i}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{,} \PY{n}{color} \PY{o}{=} \PY{n}{palette}\PY{p}{[}\PY{n}{ii}\PY{p}{]}\PY{p}{,}\PY{n}{head\PYZus{}width}\PY{o}{=}\PY{l+m+mf}{0.01}\PY{p}{,} \PY{n}{head\PYZus{}length}\PY{o}{=}\PY{l+m+mf}{0.01}\PY{p}{,} \PY{n}{linewidth}\PY{o}{=}\PY{l+m+mi}{2}\PY{p}{,} \PY{n}{alpha}\PY{o}{=}\PY{l+m+mf}{0.4}\PY{p}{)}
        \PY{n}{ax}\PY{o}{.}\PY{n}{text}\PY{p}{(}\PY{n}{loadings}\PY{p}{[}\PY{n}{i}\PY{p}{,}\PY{l+m+mi}{0}\PY{p}{]}\PY{o}{*}\PY{n}{text\PYZus{}pos}\PY{p}{,} \PY{n}{loadings}\PY{p}{[}\PY{n}{i}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{]}\PY{o}{*}\PY{n}{text\PYZus{}pos}\PY{p}{,} \PY{n}{df}\PY{o}{.}\PY{n}{columns}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{p}{,} \PY{n}{color}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{black}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
                 \PY{n}{ha}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{center}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{va}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{center}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{fontsize}\PY{o}{=}\PY{l+m+mi}{12}\PY{p}{,} \PY{n}{alpha}\PY{o}{=}\PY{l+m+mf}{0.65}\PY{p}{)}

    \PY{k}{return} \PY{k+kc}{None}
\end{Verbatim}
\end{tcolorbox}

    \textbf{Helper Utility Functions}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{4}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{} Make zero mean for the dataframe}
\PY{k}{def} \PY{n+nf}{demean\PYZus{}data}\PY{p}{(}\PY{n}{X\PYZus{}df}\PY{p}{)}\PY{p}{:}
\PY{+w}{    }\PY{l+s+sd}{\PYZsq{}\PYZsq{}\PYZsq{}}
\PY{l+s+sd}{    Demeaning the data}
\PY{l+s+sd}{    @param X\PYZus{}df: Pandas DataFrame or Series}
\PY{l+s+sd}{    @return: pd.DataFrame()}
\PY{l+s+sd}{    \PYZsq{}\PYZsq{}\PYZsq{}}
    \PY{k}{return} \PY{p}{(}\PY{n}{X\PYZus{}df} \PY{o}{\PYZhy{}} \PY{n}{X\PYZus{}df}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{)}\PY{p}{)}

\PY{c+c1}{\PYZsh{} returns transformed x, prin components, var explained}
\PY{k}{def} \PY{n+nf}{principal\PYZus{}components\PYZus{}analysis}\PY{p}{(}\PY{n}{data}\PY{p}{)}\PY{p}{:}
\PY{+w}{    }\PY{l+s+sd}{\PYZsq{}\PYZsq{}\PYZsq{}}
\PY{l+s+sd}{    Principal Components Analysis conducted on Data by:}
\PY{l+s+sd}{        1. demeaning the Data}
\PY{l+s+sd}{        2. Symmetrisation of Input Matrix}
\PY{l+s+sd}{        3. Calculating Eigen Values and Eigen Vectors}
\PY{l+s+sd}{        4. Transforming to PCA Space by multiplying by Eigen Vectors}
\PY{l+s+sd}{        5. Calculating Explained Variance}
\PY{l+s+sd}{        6. Ordering the Results by Explained Variance}
\PY{l+s+sd}{    @param data: pd.DataFrame Data consisting of original data}
\PY{l+s+sd}{    @return: tuple()}
\PY{l+s+sd}{    \PYZsq{}\PYZsq{}\PYZsq{}}
    \PY{c+c1}{\PYZsh{} get the original dimensions of a matrix}
    \PY{n}{dimensions} \PY{o}{=} \PY{n}{data}\PY{o}{.}\PY{n}{shape}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}
    \PY{c+c1}{\PYZsh{} make zero mean of matrix}
    \PY{n}{z} \PY{o}{=} \PY{n}{demean\PYZus{}data}\PY{p}{(}\PY{n}{data}\PY{p}{)}
    \PY{c+c1}{\PYZsh{} make a matrix symmetric, invertible}
    \PY{n}{symmetric\PYZus{}matrix} \PY{o}{=} \PY{n}{make\PYZus{}a\PYZus{}matrix\PYZus{}symmetric\PYZus{}invertible}\PY{p}{(}\PY{n}{z}\PY{p}{)}
    \PY{c+c1}{\PYZsh{} find eigen values and eigen vectors}
    \PY{p}{(}\PY{n}{eigenvalues}\PY{p}{,} \PY{n}{eigenvectors}\PY{p}{)} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{linalg}\PY{o}{.}\PY{n}{eig}\PY{p}{(}\PY{n}{symmetric\PYZus{}matrix}\PY{p}{)}  \PY{c+c1}{\PYZsh{} \PYZsq{}right\PYZhy{}hand\PYZsq{}}
    \PY{c+c1}{\PYZsh{} returns transformed matrix}
    \PY{n}{transformed\PYZus{}matrix} \PY{o}{=} \PY{n}{pca\PYZus{}transformed}\PY{p}{(}\PY{n}{z}\PY{p}{,} \PY{n}{eigenvectors}\PY{p}{,} \PY{n}{dimensions}\PY{p}{)}
    \PY{c+c1}{\PYZsh{} find the principal components}
    \PY{n}{pc} \PY{o}{=} \PY{n}{eigenvectors}\PY{o}{.}\PY{n}{T}
    \PY{c+c1}{\PYZsh{} find explained variances}
    \PY{n}{explained\PYZus{}variance} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{var}\PY{p}{(}\PY{n}{transformed\PYZus{}matrix}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{0}\PY{p}{,} \PY{n}{ddof}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}  \PY{c+c1}{\PYZsh{} col sample var}
    \PY{c+c1}{\PYZsh{} take the sum of variances to 1 degree}
    \PY{n}{sum\PYZus{}of\PYZus{}variances} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{n}{explained\PYZus{}variance}\PY{p}{)}
    \PY{c+c1}{\PYZsh{} normalise the variances (take the ratio)}
    \PY{n}{explained\PYZus{}variance\PYZus{}ratio} \PY{o}{=} \PY{n}{explained\PYZus{}variance} \PY{o}{/} \PY{n}{sum\PYZus{}of\PYZus{}variances}
    \PY{c+c1}{\PYZsh{} order everything based on explained variance ratio}
    \PY{n}{ordering} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{argsort}\PY{p}{(}\PY{n}{explained\PYZus{}variance\PYZus{}ratio}\PY{p}{)}\PY{p}{[}\PY{p}{:}\PY{p}{:}\PY{o}{\PYZhy{}}\PY{l+m+mi}{1}\PY{p}{]}
    \PY{c+c1}{\PYZsh{} order the transformed matrix}
    \PY{n}{transformed\PYZus{}matrix} \PY{o}{=} \PY{n}{transformed\PYZus{}matrix}\PY{p}{[}\PY{p}{:}\PY{p}{,}\PY{n}{ordering}\PY{p}{]}
    \PY{n}{pc} \PY{o}{=} \PY{n}{pc}\PY{p}{[}\PY{n}{ordering}\PY{p}{,}\PY{p}{:}\PY{p}{]}
    \PY{n}{explained\PYZus{}variance\PYZus{}ratio} \PY{o}{=} \PY{n}{explained\PYZus{}variance\PYZus{}ratio}\PY{p}{[}\PY{n}{ordering}\PY{p}{]}
    \PY{k}{return} \PY{n}{transformed\PYZus{}matrix}\PY{p}{,} \PY{n}{pc}\PY{p}{,} \PY{n}{explained\PYZus{}variance\PYZus{}ratio}

\PY{c+c1}{\PYZsh{} this code will make a non\PYZhy{}square matrix a square matrix, a symmetric matrix as well as an invertible matrix if the determinant is non\PYZhy{}zero}
\PY{k}{def} \PY{n+nf}{make\PYZus{}a\PYZus{}matrix\PYZus{}symmetric\PYZus{}invertible}\PY{p}{(}\PY{n}{z}\PY{p}{)}\PY{p}{:}
\PY{+w}{    }\PY{l+s+sd}{\PYZsq{}\PYZsq{}\PYZsq{}}
\PY{l+s+sd}{    Symmetrising the Input Data}
\PY{l+s+sd}{    @param z: Input Data}
\PY{l+s+sd}{    @return: np.array}
\PY{l+s+sd}{    \PYZsq{}\PYZsq{}\PYZsq{}}
    \PY{k}{return} \PY{n}{np}\PY{o}{.}\PY{n}{dot}\PY{p}{(}\PY{n}{z}\PY{o}{.}\PY{n}{T}\PY{p}{,} \PY{n}{z}\PY{p}{)}

\PY{c+c1}{\PYZsh{} get the transformed matrix space}
\PY{k}{def} \PY{n+nf}{pca\PYZus{}transformed}\PY{p}{(}\PY{n}{z}\PY{p}{,} \PY{n}{eigenvectors}\PY{p}{,} \PY{n}{dimensions}\PY{p}{)}\PY{p}{:}
\PY{+w}{    }\PY{l+s+sd}{\PYZsq{}\PYZsq{}\PYZsq{}}
\PY{l+s+sd}{    Transforming the Input Data to PCA Space}
\PY{l+s+sd}{    @param z: Input Data}
\PY{l+s+sd}{    @param eigenvectors: Eigen vectors of Input data}
\PY{l+s+sd}{    @param dimensions: Dimensions Required}
\PY{l+s+sd}{    @return: np.array}
\PY{l+s+sd}{    \PYZsq{}\PYZsq{}\PYZsq{}}
    \PY{k}{return} \PY{n}{np}\PY{o}{.}\PY{n}{dot}\PY{p}{(}\PY{n}{z}\PY{p}{,} \PY{n}{eigenvectors}\PY{p}{[}\PY{p}{:}\PY{p}{,}\PY{l+m+mi}{0}\PY{p}{:}\PY{n}{dimensions}\PY{p}{]}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \hypertarget{import-the-dataset}{%
\subsection{0.2 Import the Dataset}\label{import-the-dataset}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{data} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}csv}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{https://github.com/aswinvk28/collection\PYZhy{}of\PYZhy{}kaggle\PYZhy{}datasets/raw/refs/heads/main/datasets/real\PYZus{}estate/airbnb\PYZus{}open\PYZus{}data/Airbnb\PYZus{}Open\PYZus{}Data.csv}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}

\PY{n}{df} \PY{o}{=} \PY{n}{data}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{n}{columns}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
\PY{n}{target} \PY{o}{=} \PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
<ipython-input-3-2189de1a8704>:1: DtypeWarning: Columns (25) have mixed types.
Specify dtype option on import or set low\_memory=False.
  data = pd.read\_csv("https://github.com/aswinvk28/collection-of-kaggle-datasets
/raw/refs/heads/main/datasets/real\_estate/airbnb\_open\_data/Airbnb\_Open\_Data.csv"
)
    \end{Verbatim}

    \hypertarget{see-top-10-rows}{%
\subsubsection{0.3 See Top 10 Rows}\label{see-top-10-rows}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{df}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{l+m+mi}{10}\PY{p}{)}\PY{o}{.}\PY{n}{T}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
0  \textbackslash{}
id
1001254
NAME                                           Clean \& quiet apt home by the
park
host id
80014485718
host\_identity\_verified
unconfirmed
host name
Madaline
neighbourhood group
Brooklyn
neighbourhood
Kensington
lat
40.64749
long
-73.97237
country                                                             United
States
country code
US
instant\_bookable
False
cancellation\_policy
strict
room type                                                            Private
room
Construction year
2020.0
service fee                                                                 \$193
minimum nights
10.0
number of reviews
9.0
last review
10/19/2021
reviews per month
0.21
review rate number
4.0
calculated host listings count
6.0
availability 365
286.0
house\_rules                     Clean up and treat the home the way you'd
like{\ldots}
license
NaN

1  \textbackslash{}
id
1002102
NAME                                                        Skylit Midtown
Castle
host id
52335172823
host\_identity\_verified
verified
host name
Jenna
neighbourhood group
Manhattan
neighbourhood
Midtown
lat
40.75362
long
-73.98377
country                                                             United
States
country code
US
instant\_bookable
False
cancellation\_policy
moderate
room type                                                         Entire
home/apt
Construction year
2007.0
service fee                                                                  \$28
minimum nights
30.0
number of reviews
45.0
last review
5/21/2022
reviews per month
0.38
review rate number
4.0
calculated host listings count
2.0
availability 365
228.0
house\_rules                     Pet friendly but please confirm with me if
the{\ldots}
license
NaN

2  \textbackslash{}
id
1002403
NAME                                          THE VILLAGE OF HARLEM{\ldots}NEW YORK
!
host id
78829239556
host\_identity\_verified
NaN
host name
Elise
neighbourhood group
Manhattan
neighbourhood
Harlem
lat
40.80902
long
-73.9419
country                                                             United
States
country code
US
instant\_bookable
True
cancellation\_policy
flexible
room type                                                            Private
room
Construction year
2005.0
service fee                                                                 \$124
minimum nights
3.0
number of reviews
0.0
last review
NaN
reviews per month
NaN
review rate number
5.0
calculated host listings count
1.0
availability 365
352.0
house\_rules                     I encourage you to use my kitchen, cooking
and{\ldots}
license
NaN

                                              3  \textbackslash{}
id                                      1002755
NAME                                        NaN
host id                             85098326012
host\_identity\_verified              unconfirmed
host name                                 Garry
neighbourhood group                    Brooklyn
neighbourhood                      Clinton Hill
lat                                    40.68514
long                                  -73.95976
country                           United States
country code                                 US
instant\_bookable                           True
cancellation\_policy                    moderate
room type                       Entire home/apt
Construction year                        2005.0
service fee                                \$74
minimum nights                             30.0
number of reviews                         270.0
last review                            7/5/2019
reviews per month                          4.64
review rate number                          4.0
calculated host listings count              1.0
availability 365                          322.0
house\_rules                                 NaN
license                                     NaN

4  \textbackslash{}
id
1003689
NAME                             Entire Apt: Spacious Studio/Loft by central
park
host id
92037596077
host\_identity\_verified
verified
host name
Lyndon
neighbourhood group
Manhattan
neighbourhood                                                         East
Harlem
lat
40.79851
long
-73.94399
country                                                             United
States
country code
US
instant\_bookable
False
cancellation\_policy
moderate
room type                                                         Entire
home/apt
Construction year
2009.0
service fee                                                                  \$41
minimum nights
10.0
number of reviews
9.0
last review
11/19/2018
reviews per month
0.1
review rate number
3.0
calculated host listings count
1.0
availability 365
289.0
house\_rules                     Please no smoking in the house, porch or on
th{\ldots}
license
NaN

                                                                        5  \textbackslash{}
id                                                                1004098
NAME                            Large Cozy 1 BR Apartment In Midtown East
host id                                                       45498551794
host\_identity\_verified                                           verified
host name                                                        Michelle
neighbourhood group                                             Manhattan
neighbourhood                                                 Murray Hill
lat                                                              40.74767
long                                                              -73.975
country                                                     United States
country code                                                           US
instant\_bookable                                                     True
cancellation\_policy                                              flexible
room type                                                 Entire home/apt
Construction year                                                  2013.0
service fee                                                         \$115
minimum nights                                                        3.0
number of reviews                                                    74.0
last review                                                     6/22/2019
reviews per month                                                    0.59
review rate number                                                    3.0
calculated host listings count                                        1.0
availability 365                                                    374.0
house\_rules                             No smoking, please, and no drugs.
license                                                               NaN

6  \textbackslash{}
id
1004650
NAME
BlissArtsSpace!
host id
61300605564
host\_identity\_verified
NaN
host name
Alberta
neighbourhood group
Brooklyn
neighbourhood                                                  Bedford-
Stuyvesant
lat
40.68688
long
-73.95596
country                                                             United
States
country code
US
instant\_bookable
False
cancellation\_policy
moderate
room type                                                            Private
room
Construction year
2015.0
service fee                                                                  \$14
minimum nights
45.0
number of reviews
49.0
last review
10/5/2017
reviews per month
0.4
review rate number
5.0
calculated host listings count
1.0
availability 365
224.0
house\_rules                     Please no shoes in the house so bring
slippers{\ldots}
license
NaN

7  \textbackslash{}
id
1005202
NAME
BlissArtsSpace!
host id
90821839709
host\_identity\_verified
unconfirmed
host name
Emma
neighbourhood group
Brooklyn
neighbourhood                                                  Bedford-
Stuyvesant
lat
40.68688
long
-73.95596
country                                                             United
States
country code
US
instant\_bookable
False
cancellation\_policy
moderate
room type                                                            Private
room
Construction year
2009.0
service fee                                                                 \$212
minimum nights
45.0
number of reviews
49.0
last review
10/5/2017
reviews per month
0.4
review rate number
5.0
calculated host listings count
1.0
availability 365
219.0
house\_rules                     House Guidelines for our BnB We are delighted
{\ldots}
license
NaN

8  \textbackslash{}
id
1005754
NAME                                              Large Furnished Room Near
B'way
host id
79384379533
host\_identity\_verified
verified
host name
Evelyn
neighbourhood group
Manhattan
neighbourhood                                                      Hell's
Kitchen
lat
40.76489
long
-73.98493
country                                                             United
States
country code
US
instant\_bookable
True
cancellation\_policy
strict
room type                                                            Private
room
Construction year
2005.0
service fee                                                                 \$204
minimum nights
2.0
number of reviews
430.0
last review
6/24/2019
reviews per month
3.47
review rate number
3.0
calculated host listings count
1.0
availability 365
180.0
house\_rules                     - Please clean up after yourself when using
th{\ldots}
license
NaN

9
id
1006307
NAME                                           Cozy Clean Guest Room - Family
Apt
host id
75527839483
host\_identity\_verified
unconfirmed
host name
Carl
neighbourhood group
Manhattan
neighbourhood                                                     Upper West
Side
lat
40.80178
long
-73.96723
country                                                             United
States
country code
US
instant\_bookable
False
cancellation\_policy
strict
room type                                                            Private
room
Construction year
2015.0
service fee                                                                  \$58
minimum nights
2.0
number of reviews
118.0
last review
7/21/2017
reviews per month
0.99
review rate number
5.0
calculated host listings count
1.0
availability 365
375.0
house\_rules                     NO SMOKING OR PETS ANYWHERE ON THE PROPERTY
1{\ldots}
license
NaN
\end{Verbatim}
\end{tcolorbox}
        
    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{}\PYZsh{} see top 10 rows of the target dataframe}

\PY{n}{target}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{l+m+mi}{10}\PY{p}{)}\PY{o}{.}\PY{n}{T}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
0      \$966
1      \$142
2      \$620
3      \$368
4      \$204
5      \$577
6       \$71
7    \$1,060
8    \$1,018
9      \$291
Name: price, dtype: object
\end{Verbatim}
\end{tcolorbox}
        
    \hypertarget{see-bottom-10-rows}{%
\subsubsection{0.4 See Bottom 10 Rows}\label{see-bottom-10-rows}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{df}\PY{o}{.}\PY{n}{tail}\PY{p}{(}\PY{l+m+mi}{10}\PY{p}{)}\PY{o}{.}\PY{n}{T}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
102589  \textbackslash{}
id
6089676
NAME                                          Lrg room 1 block from Prospect
Park
host id
74549151787
host\_identity\_verified
unconfirmed
host name
Dave
neighbourhood group
Brooklyn
neighbourhood
Flatbush
lat
40.65231
long
-73.96189
country                                                             United
States
country code
US
instant\_bookable
False
cancellation\_policy
flexible
room type                                                            Private
room
Construction year
2006.0
service fee                                                                  \$61
minimum nights
3.0
number of reviews
0.0
last review
NaN
reviews per month
NaN
review rate number
1.0
calculated host listings count
1.0
availability 365
200.0
house\_rules                     House Rules 1. Check-in is 4 pm local time.
If{\ldots}
license
NaN

                                                             102590  \textbackslash{}
id                                                          6090228
NAME                            Wonderful artists' loft in Brooklyn
host id                                                  9184535139
host\_identity\_verified                                  unconfirmed
host name                                                    Daniel
neighbourhood group                                        Brooklyn
neighbourhood                                         Crown Heights
lat                                                        40.66673
long                                                      -73.96127
country                                               United States
country code                                                     US
instant\_bookable                                               True
cancellation\_policy                                        moderate
room type                                           Entire home/apt
Construction year                                            2003.0
service fee                                                    \$50
minimum nights                                                  1.0
number of reviews                                               0.0
last review                                                     NaN
reviews per month                                               NaN
review rate number                                              1.0
calculated host listings count                                  1.0
availability 365                                              276.0
house\_rules                                                  \#NAME?
license                                                         NaN

                                                            102591  \textbackslash{}
id                                                         6090781
NAME                            Columbus Ave Apt 1 block from Park
host id                                                50908010324
host\_identity\_verified                                    verified
host name                                                 Lawrence
neighbourhood group                                      Manhattan
neighbourhood                                      Upper West Side
lat                                                       40.77408
long                                                     -73.98181
country                                              United States
country code                                                    US
instant\_bookable                                             False
cancellation\_policy                                         strict
room type                                          Entire home/apt
Construction year                                           2005.0
service fee                                                  \$228
minimum nights                                                 5.0
number of reviews                                             17.0
last review                                               1/4/2019
reviews per month                                             0.35
review rate number                                             5.0
calculated host listings count                                 1.0
availability 365                                             134.0
house\_rules                                                 \#NAME?
license                                                        NaN

102592  \textbackslash{}
id
6091333
NAME                                          3BR/1 Ba in TriBeCa w/ outdoor
deck
host id
53266862889
host\_identity\_verified
unconfirmed
host name
Nick
neighbourhood group
Manhattan
neighbourhood
Tribeca
lat
40.71845
long
-74.01183
country                                                             United
States
country code
US
instant\_bookable
False
cancellation\_policy
moderate
room type                                                         Entire
home/apt
Construction year
2016.0
service fee                                                                 \$157
minimum nights
1.0
number of reviews
0.0
last review
NaN
reviews per month
NaN
review rate number
2.0
calculated host listings count
1.0
availability 365
177.0
house\_rules                     Guests should treat my home as if it were
thei{\ldots}
license
NaN

102593  \textbackslash{}
id
6091885
NAME                                          Welcoming, Clean, Cheap on St
Marks
host id
33188605074
host\_identity\_verified
verified
host name
Felipe
neighbourhood group
Manhattan
neighbourhood                                                        East
Village
lat
40.72826
long
-73.98422
country                                                             United
States
country code
US
instant\_bookable
True
cancellation\_policy
strict
room type                                                            Private
room
Construction year
2017.0
service fee                                                                 \$220
minimum nights
1.0
number of reviews
8.0
last review
9/6/2015
reviews per month
0.16
review rate number
4.0
calculated host listings count
2.0
availability 365
152.0
house\_rules                     * No smoking indoors.  * No pets  * No
loud/la{\ldots}
license
NaN

102594  \textbackslash{}
id
6092437
NAME                                                   Spare room in
Williamsburg
host id
12312296767
host\_identity\_verified
verified
host name
Krik
neighbourhood group
Brooklyn
neighbourhood
Williamsburg
lat
40.70862
long
-73.94651
country                                                             United
States
country code
US
instant\_bookable
False
cancellation\_policy
flexible
room type                                                            Private
room
Construction year
2003.0
service fee                                                                 \$169
minimum nights
1.0
number of reviews
0.0
last review
NaN
reviews per month
NaN
review rate number
3.0
calculated host listings count
1.0
availability 365
227.0
house\_rules                     No Smoking No Parties or Events of any kind
Pl{\ldots}
license
NaN

102595  \textbackslash{}
id
6092990
NAME                                                Best Location near Columbia
U
host id
77864383453
host\_identity\_verified
unconfirmed
host name
Mifan
neighbourhood group
Manhattan
neighbourhood                                                 Morningside
Heights
lat
40.8046
long
-73.96545
country                                                             United
States
country code
US
instant\_bookable
True
cancellation\_policy
moderate
room type                                                            Private
room
Construction year
2016.0
service fee                                                                 \$167
minimum nights
1.0
number of reviews
1.0
last review
7/6/2015
reviews per month
0.02
review rate number
2.0
calculated host listings count
2.0
availability 365
395.0
house\_rules                     House rules: Guests agree to the following
ter{\ldots}
license
NaN

                                                        102596  \textbackslash{}
id                                                     6093542
NAME                            Comfy, bright room in Brooklyn
host id                                            69050334417
host\_identity\_verified                             unconfirmed
host name                                                Megan
neighbourhood group                                   Brooklyn
neighbourhood                                       Park Slope
lat                                                   40.67505
long                                                 -73.98045
country                                          United States
country code                                                US
instant\_bookable                                          True
cancellation\_policy                                   moderate
room type                                         Private room
Construction year                                       2009.0
service fee                                              \$198
minimum nights                                             3.0
number of reviews                                          0.0
last review                                                NaN
reviews per month                                          NaN
review rate number                                         5.0
calculated host listings count                             1.0
availability 365                                         342.0
house\_rules                                                NaN
license                                                    NaN

                                                          102597  \textbackslash{}
id                                                       6094094
NAME                            Big Studio-One Stop from Midtown
host id                                              11160591270
host\_identity\_verified                               unconfirmed
host name                                            Christopher
neighbourhood group                                       Queens
neighbourhood                                   Long Island City
lat                                                     40.74989
long                                                   -73.93777
country                                            United States
country code                                                  US
instant\_bookable                                            True
cancellation\_policy                                       strict
room type                                        Entire home/apt
Construction year                                         2015.0
service fee                                                \$109
minimum nights                                               2.0
number of reviews                                            5.0
last review                                           10/11/2015
reviews per month                                            0.1
review rate number                                           3.0
calculated host listings count                               1.0
availability 365                                           386.0
house\_rules                                                  NaN
license                                                      NaN

                                              102598
id                                           6094647
NAME                            585 sf Luxury Studio
host id                                  68170633372
host\_identity\_verified                   unconfirmed
host name                                    Rebecca
neighbourhood group                        Manhattan
neighbourhood                        Upper West Side
lat                                         40.76807
long                                       -73.98342
country                                United States
country code                                      US
instant\_bookable                               False
cancellation\_policy                         flexible
room type                            Entire home/apt
Construction year                             2010.0
service fee                                    \$206
minimum nights                                   1.0
number of reviews                                0.0
last review                                      NaN
reviews per month                                NaN
review rate number                               3.0
calculated host listings count                   1.0
availability 365                                69.0
house\_rules                                      NaN
license                                          NaN
\end{Verbatim}
\end{tcolorbox}
        
    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{}\PYZsh{} see bottom 10 rows}

\PY{n}{target}\PY{o}{.}\PY{n}{tail}\PY{p}{(}\PY{l+m+mi}{10}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
102589      \$306
102590      \$250
102591    \$1,139
102592      \$787
102593    \$1,099
102594      \$844
102595      \$837
102596      \$988
102597      \$546
102598    \$1,032
Name: price, dtype: object
\end{Verbatim}
\end{tcolorbox}
        
    \hypertarget{total-number-of-rows-in-the-dataset}{%
\subsubsection{Total Number of Rows in the
Dataset}\label{total-number-of-rows-in-the-dataset}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{data}\PY{o}{.}\PY{n}{count}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
id                                102599
NAME                              102349
host id                           102599
host\_identity\_verified            102310
host name                         102193
neighbourhood group               102570
neighbourhood                     102583
lat                               102591
long                              102591
country                           102067
country code                      102468
instant\_bookable                  102494
cancellation\_policy               102523
room type                         102599
Construction year                 102385
price                             102352
service fee                       102326
minimum nights                    102190
number of reviews                 102416
last review                        86706
reviews per month                  86720
review rate number                102273
calculated host listings count    102280
availability 365                  102151
house\_rules                        50468
license                                2
dtype: int64
\end{Verbatim}
\end{tcolorbox}
        
    \hypertarget{checking-for-duplicates}{%
\subsubsection{Checking for Duplicates}\label{checking-for-duplicates}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{} printing the duplicated rows of data in input features}
\PY{n}{data}\PY{p}{[}\PY{n}{data}\PY{o}{.}\PY{n}{duplicated}\PY{p}{(}\PY{p}{)}\PY{p}{]}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
              id                                              NAME  \textbackslash{}
102058  35506831    Master Bedroom with private Bathroom \& Balcony
102059  35507383                Cozy 2 br in sunny Fort Greene apt
102060  35507935               Duplex w/ Terrace @ Box House Hotel
102061  35508488      Cozy, clean Greenpoint room with yard access
102062  35509040  2BR XL Loft: Cleaning CDC guidelines implemented
{\ldots}          {\ldots}                                               {\ldots}
102594   6092437                        Spare room in Williamsburg
102595   6092990                     Best Location near Columbia U
102596   6093542                    Comfy, bright room in Brooklyn
102597   6094094                  Big Studio-One Stop from Midtown
102598   6094647                              585 sf Luxury Studio

            host id host\_identity\_verified            host name  \textbackslash{}
102058  55110690425            unconfirmed               UZeyir
102059  80193772189               verified                Sally
102060  72991962259               verified  The Box House Hotel
102061  74975156081               verified                 Dawn
102062  85844415221            unconfirmed                 Vida
{\ldots}             {\ldots}                    {\ldots}                  {\ldots}
102594  12312296767               verified                 Krik
102595  77864383453            unconfirmed                Mifan
102596  69050334417            unconfirmed                Megan
102597  11160591270            unconfirmed          Christopher
102598  68170633372            unconfirmed              Rebecca

       neighbourhood group        neighbourhood       lat      long  \textbackslash{}
102058              Queens              Maspeth  40.74056 -73.90635
102059            Brooklyn          Fort Greene  40.68701 -73.97555
102060            Brooklyn           Greenpoint  40.73756 -73.95350
102061            Brooklyn           Greenpoint  40.72516 -73.95004
102062            Brooklyn           Greenpoint  40.72732 -73.94185
{\ldots}                    {\ldots}                  {\ldots}       {\ldots}       {\ldots}
102594            Brooklyn         Williamsburg  40.70862 -73.94651
102595           Manhattan  Morningside Heights  40.80460 -73.96545
102596            Brooklyn           Park Slope  40.67505 -73.98045
102597              Queens     Long Island City  40.74989 -73.93777
102598           Manhattan      Upper West Side  40.76807 -73.98342

              country  {\ldots} service fee minimum nights number of reviews  \textbackslash{}
102058  United States  {\ldots}       \$141             1.0               1.0
102059  United States  {\ldots}       \$130             3.0              38.0
102060  United States  {\ldots}       \$181             3.0              10.0
102061  United States  {\ldots}       \$118            30.0              38.0
102062  United States  {\ldots}        \$71            30.0              13.0
{\ldots}               {\ldots}  {\ldots}         {\ldots}            {\ldots}               {\ldots}
102594  United States  {\ldots}       \$169             1.0               0.0
102595  United States  {\ldots}       \$167             1.0               1.0
102596  United States  {\ldots}       \$198             3.0               0.0
102597  United States  {\ldots}       \$109             2.0               5.0
102598  United States  {\ldots}       \$206             1.0               0.0

       last review  reviews per month review rate number  \textbackslash{}
102058  11/14/2021               0.27                3.0
102059  11/13/2021               0.27                3.0
102060  11/13/2021               0.08                3.0
102061  11/13/2021               0.34                5.0
102062  11/13/2021               0.14                4.0
{\ldots}            {\ldots}                {\ldots}                {\ldots}
102594         NaN                NaN                3.0
102595    7/6/2015               0.02                2.0
102596         NaN                NaN                5.0
102597  10/11/2015               0.10                3.0
102598         NaN                NaN                3.0

       calculated host listings count  availability 365  \textbackslash{}
102058                            1.0             339.0
102059                            1.0               0.0
102060                           30.0              32.0
102061                            2.0             324.0
102062                           28.0             336.0
{\ldots}                               {\ldots}               {\ldots}
102594                            1.0             227.0
102595                            2.0             395.0
102596                            1.0             342.0
102597                            1.0             386.0
102598                            1.0              69.0

                                              house\_rules license
102058                                                NaN     NaN
102059                                                NaN     NaN
102060                                                NaN     NaN
102061                                                NaN     NaN
102062                                                NaN     NaN
{\ldots}                                                   {\ldots}     {\ldots}
102594  No Smoking No Parties or Events of any kind Pl{\ldots}     NaN
102595  House rules: Guests agree to the following ter{\ldots}     NaN
102596                                                NaN     NaN
102597                                                NaN     NaN
102598                                                NaN     NaN

[541 rows x 26 columns]
\end{Verbatim}
\end{tcolorbox}
        
    \hypertarget{removing-duplicates}{%
\section{Removing Duplicates}\label{removing-duplicates}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{data} \PY{o}{=} \PY{n}{data}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{n}{index}\PY{o}{=}\PY{n}{data}\PY{p}{[}\PY{n}{data}\PY{o}{.}\PY{n}{duplicated}\PY{p}{(}\PY{p}{)}\PY{p}{]}\PY{o}{.}\PY{n}{index}\PY{p}{)}
\PY{n}{df} \PY{o}{=} \PY{n}{data}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{n}{columns}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
\PY{n}{target} \PY{o}{=} \PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
\PY{n}{data}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
              id                                              NAME  \textbackslash{}
0        1001254                Clean \& quiet apt home by the park
1        1002102                             Skylit Midtown Castle
2        1002403               THE VILLAGE OF HARLEM{\ldots}NEW YORK !
3        1002755                                               NaN
4        1003689  Entire Apt: Spacious Studio/Loft by central park
{\ldots}          {\ldots}                                               {\ldots}
102053  57365208               Cozy bright room near Prospect Park
102054  57365760         Private Bedroom with Amazing Rooftop View
102055  57366313     Pretty Brooklyn One-Bedroom for 2 to 4 people
102056  57366865        Room \& private bathroom in historic Harlem
102057  57367417                                   Rosalee Stewart

            host id host\_identity\_verified host name neighbourhood group  \textbackslash{}
0       80014485718            unconfirmed  Madaline            Brooklyn
1       52335172823               verified     Jenna           Manhattan
2       78829239556                    NaN     Elise           Manhattan
3       85098326012            unconfirmed     Garry            Brooklyn
4       92037596077               verified    Lyndon           Manhattan
{\ldots}             {\ldots}                    {\ldots}       {\ldots}                 {\ldots}
102053  77326652202            unconfirmed    Mariam            Brooklyn
102054  45936254757               verified      Trey            Brooklyn
102055  23801060917               verified   Michael            Brooklyn
102056  15593031571            unconfirmed   Shireen           Manhattan
102057  93578954226               verified   Stanley           Manhattan

             neighbourhood       lat      long        country  {\ldots}  \textbackslash{}
0               Kensington  40.64749 -73.97237  United States  {\ldots}
1                  Midtown  40.75362 -73.98377  United States  {\ldots}
2                   Harlem  40.80902 -73.94190  United States  {\ldots}
3             Clinton Hill  40.68514 -73.95976  United States  {\ldots}
4              East Harlem  40.79851 -73.94399  United States  {\ldots}
{\ldots}                    {\ldots}       {\ldots}       {\ldots}            {\ldots}  {\ldots}
102053            Flatbush  40.64945 -73.96108  United States  {\ldots}
102054            Bushwick  40.69872 -73.92718  United States  {\ldots}
102055  Bedford-Stuyvesant  40.67810 -73.90822  United States  {\ldots}
102056              Harlem  40.81248 -73.94317  United States  {\ldots}
102057              Harlem  40.81315 -73.94747  United States  {\ldots}

       service fee minimum nights number of reviews last review  \textbackslash{}
0            \$193            10.0               9.0  10/19/2021
1             \$28            30.0              45.0   5/21/2022
2            \$124             3.0               0.0         NaN
3             \$74            30.0             270.0    7/5/2019
4             \$41            10.0               9.0  11/19/2018
{\ldots}            {\ldots}            {\ldots}               {\ldots}         {\ldots}
102053         NaN            7.0              12.0   3/27/2019
102054         NaN            1.0              19.0   8/31/2017
102055         NaN            2.0              50.0   6/26/2019
102056         NaN            2.0               0.0         NaN
102057         NaN            4.0              22.0   6/15/2019

        reviews per month review rate number calculated host listings count  \textbackslash{}
0                    0.21                4.0                            6.0
1                    0.38                4.0                            2.0
2                     NaN                5.0                            1.0
3                    4.64                4.0                            1.0
4                    0.10                3.0                            1.0
{\ldots}                   {\ldots}                {\ldots}                            {\ldots}
102053               0.44                5.0                            1.0
102054               0.72                3.0                            2.0
102055               3.12                4.0                            2.0
102056                NaN                1.0                            1.0
102057               0.85                4.0                            1.0

        availability 365                                        house\_rules  \textbackslash{}
0                  286.0  Clean up and treat the home the way you'd like{\ldots}
1                  228.0  Pet friendly but please confirm with me if the{\ldots}
2                  352.0  I encourage you to use my kitchen, cooking and{\ldots}
3                  322.0                                                NaN
4                  289.0  Please no smoking in the house, porch or on th{\ldots}
{\ldots}                  {\ldots}                                                {\ldots}
102053               0.0  Shoes off Clean After yourself Turn Lights and{\ldots}
102054               0.0                                             \#NAME?
102055             235.0  * Check out: 10am * We made an effort to keep {\ldots}
102056               0.0  Each of us is working and/or going to school a{\ldots}
102057             238.0  Please remember that this is a residential bui{\ldots}

       license
0          NaN
1          NaN
2          NaN
3          NaN
4          NaN
{\ldots}        {\ldots}
102053     NaN
102054     NaN
102055     NaN
102056     NaN
102057     NaN

[102058 rows x 26 columns]
\end{Verbatim}
\end{tcolorbox}
        
    \hypertarget{checking-the-attribute-information-of-the-dataset}{%
\subsection{Checking the attribute information of the
Dataset}\label{checking-the-attribute-information-of-the-dataset}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{} checking attribute information of the dataset}
\PY{n}{data}\PY{o}{.}\PY{n}{info}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
<class 'pandas.core.frame.DataFrame'>
RangeIndex: 102058 entries, 0 to 102057
Data columns (total 26 columns):
 \#   Column                          Non-Null Count   Dtype
---  ------                          --------------   -----
 0   id                              102058 non-null  int64
 1   NAME                            101808 non-null  object
 2   host id                         102058 non-null  int64
 3   host\_identity\_verified          101769 non-null  object
 4   host name                       101654 non-null  object
 5   neighbourhood group             102029 non-null  object
 6   neighbourhood                   102042 non-null  object
 7   lat                             102050 non-null  float64
 8   long                            102050 non-null  float64
 9   country                         101526 non-null  object
 10  country code                    101927 non-null  object
 11  instant\_bookable                101953 non-null  object
 12  cancellation\_policy             101982 non-null  object
 13  room type                       102058 non-null  object
 14  Construction year               101844 non-null  float64
 15  price                           101811 non-null  object
 16  service fee                     101785 non-null  object
 17  minimum nights                  101658 non-null  float64
 18  number of reviews               101875 non-null  float64
 19  last review                     86226 non-null   object
 20  reviews per month               86240 non-null   float64
 21  review rate number              101739 non-null  float64
 22  calculated host listings count  101739 non-null  float64
 23  availability 365                101610 non-null  float64
 24  house\_rules                     50216 non-null   object
 25  license                         2 non-null       object
dtypes: float64(9), int64(2), object(15)
memory usage: 20.2+ MB
    \end{Verbatim}

    \hypertarget{checking-dtypes}{%
\subsection{Checking dtypes}\label{checking-dtypes}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{} checking the dtypes}
\PY{n}{data}\PY{o}{.}\PY{n}{dtypes}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
id                                  int64
NAME                               object
host id                             int64
host\_identity\_verified             object
host name                          object
neighbourhood group                object
neighbourhood                      object
lat                               float64
long                              float64
country                            object
country code                       object
instant\_bookable                   object
cancellation\_policy                object
room type                          object
Construction year                 float64
price                              object
service fee                        object
minimum nights                    float64
number of reviews                 float64
last review                        object
reviews per month                 float64
review rate number                float64
calculated host listings count    float64
availability 365                  float64
house\_rules                        object
license                            object
dtype: object
\end{Verbatim}
\end{tcolorbox}
        
    \hypertarget{checking-for-missing-values}{%
\subsection{Checking for missing
values}\label{checking-for-missing-values}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{} Checking for missing values}
\PY{n}{data}\PY{o}{.}\PY{n}{isnull}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
id                                     0
NAME                                 250
host id                                0
host\_identity\_verified               289
host name                            404
neighbourhood group                   29
neighbourhood                         16
lat                                    8
long                                   8
country                              532
country code                         131
instant\_bookable                     105
cancellation\_policy                   76
room type                              0
Construction year                    214
price                                247
service fee                          273
minimum nights                       400
number of reviews                    183
last review                        15832
reviews per month                  15818
review rate number                   319
calculated host listings count       319
availability 365                     448
house\_rules                        51842
license                           102056
dtype: int64
\end{Verbatim}
\end{tcolorbox}
        
    \hypertarget{plotting-all-missing-values-in-a-heatmap-to-make-the-39-attributes-list-in-columns-in-a-heatmap}{%
\subsubsection{Plotting all missing values in a heatmap to make the 39
attributes list in columns in a
heatmap}\label{plotting-all-missing-values-in-a-heatmap-to-make-the-39-attributes-list-in-columns-in-a-heatmap}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{} plotting all missing values in a heatmap to make the 39 attributes list in columns in a heatmap}
\PY{n}{fig} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{14}\PY{p}{,}\PY{l+m+mi}{8}\PY{p}{)}\PY{p}{)}
\PY{n}{sns}\PY{o}{.}\PY{n}{heatmap}\PY{p}{(}\PY{n}{data}\PY{o}{.}\PY{n}{isnull}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{cbar}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{cmap}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{vlag}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{xlabel}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Heatmap of Missing Values}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{Practical_Project_for_Airbnb_Open_Data_files/Practical_Project_for_Airbnb_Open_Data_35_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \hypertarget{filtering-attributes-by-the-amount-of-missing-values-null-values-count-missing-values-count}{%
\subsubsection{Filtering Attributes by the Amount of missing values
(Null values Count \textasciitilde{} Missing Values
Count)}\label{filtering-attributes-by-the-amount-of-missing-values-null-values-count-missing-values-count}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{}\PYZsh{} filtering attributes by the amount of missing values}

\PY{n}{data}\PY{o}{.}\PY{n}{isnull}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{p}{)}\PY{p}{[}\PY{n}{data}\PY{o}{.}\PY{n}{isnull}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{p}{)} \PY{o}{\PYZlt{}} \PY{l+m+mi}{541}\PY{p}{]}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
id                                  0
NAME                              250
host id                             0
host\_identity\_verified            289
host name                         404
neighbourhood group                29
neighbourhood                      16
lat                                 8
long                                8
country                           532
country code                      131
instant\_bookable                  105
cancellation\_policy                76
room type                           0
Construction year                 214
price                             247
service fee                       273
minimum nights                    400
number of reviews                 183
review rate number                319
calculated host listings count    319
availability 365                  448
dtype: int64
\end{Verbatim}
\end{tcolorbox}
        
    \hypertarget{imputable-attributes-and-droppable-attributes}{%
\subsubsection{Imputable Attributes and Droppable
Attributes}\label{imputable-attributes-and-droppable-attributes}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{}\PYZsh{} Imputable Attributes and Droppable Attributes}

\PY{n}{droppable\PYZus{}attributes} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{NAME}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{host name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
\PY{n}{imputable\PYZus{}attributes} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{host\PYZus{}identity\PYZus{}verified}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{neighbourhood\PYZus{}group}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{neighbourhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{lat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{lng}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{country}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{country code}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{instant\PYZus{}bookable}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{cancellation\PYZus{}policy}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Construction year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{service fee}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{minimum nights}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{number of reviews}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{review rate number}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{calculated host listings count}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{availability 365}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
\end{Verbatim}
\end{tcolorbox}

    \hypertarget{dropping-attributes}{%
\subsubsection{Dropping attributes}\label{dropping-attributes}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{data}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{n}{columns}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{NAME}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{host name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \hypertarget{dropping-price-rows}{%
\subsubsection{Dropping Price Rows}\label{dropping-price-rows}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{} dropping price rows where it is null}
\PY{n}{data}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{n}{index}\PY{o}{=}\PY{n}{data}\PY{p}{[}\PY{n}{data}\PY{o}{.}\PY{n}{price}\PY{o}{.}\PY{n}{isnull}\PY{p}{(}\PY{p}{)}\PY{p}{]}\PY{o}{.}\PY{n}{index}\PY{p}{,} \PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\PY{n}{data}\PY{o}{.}\PY{n}{count}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
id                                101811
host id                           101811
host\_identity\_verified            101526
neighbourhood group               101783
neighbourhood                     101796
lat                               101803
long                              101803
country                           101284
country code                      101685
instant\_bookable                  101711
cancellation\_policy               101740
room type                         101811
Construction year                 101601
price                             101811
service fee                       101572
minimum nights                    101411
number of reviews                 101628
last review                        86005
reviews per month                  86020
review rate number                101492
calculated host listings count    101492
availability 365                  101363
house\_rules                        50104
license                                2
dtype: int64
\end{Verbatim}
\end{tcolorbox}
        
    \textbf{Imputing attributes is after the EDA Research Questions, for
Price Prediction.}

    \hypertarget{checking-for-unique-values-in-the-dataset}{%
\subsection{Checking for unique values in the
Dataset}\label{checking-for-unique-values-in-the-dataset}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{} checking for unique values}
\PY{n}{data}\PY{o}{.}\PY{n}{nunique}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
id                                101811
host id                           101810
host\_identity\_verified                 2
neighbourhood group                    7
neighbourhood                        224
lat                                21979
long                               17754
country                                1
country code                           1
instant\_bookable                       2
cancellation\_policy                    3
room type                              4
Construction year                     20
price                               1151
service fee                          231
minimum nights                       153
number of reviews                    476
last review                         2462
reviews per month                   1016
review rate number                     5
calculated host listings count        78
availability 365                     438
house\_rules                         1976
license                                1
dtype: int64
\end{Verbatim}
\end{tcolorbox}
        
    \hypertarget{assigning-correct-dtypes-to-the-dataset}{%
\subsection{Assigning correct dtypes to the
Dataset}\label{assigning-correct-dtypes-to-the-dataset}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{data}\PY{o}{.}\PY{n}{dtypes}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
id                                  int64
host id                             int64
host\_identity\_verified             object
neighbourhood group                object
neighbourhood                      object
lat                               float64
long                              float64
country                            object
country code                       object
instant\_bookable                   object
cancellation\_policy                object
room type                          object
Construction year                 float64
price                              object
service fee                        object
minimum nights                    float64
number of reviews                 float64
last review                        object
reviews per month                 float64
review rate number                float64
calculated host listings count    float64
availability 365                  float64
house\_rules                        object
license                            object
dtype: object
\end{Verbatim}
\end{tcolorbox}
        
    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{data} \PY{o}{=} \PY{n}{data}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{host\PYZus{}identity\PYZus{}verified}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{category}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{neighbourhood group}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{category}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{neighbourhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{category}\PY{l+s+s1}{\PYZsq{}}\PY{p}{\PYZcb{}}\PY{p}{)}
\PY{n}{data} \PY{o}{=} \PY{n}{data}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{country}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{category}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{country code}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{category}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{instant\PYZus{}bookable}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{category}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{cancellation\PYZus{}policy}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{category}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{room type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{category}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Construction year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{float64}\PY{l+s+s1}{\PYZsq{}}\PY{p}{\PYZcb{}}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \hypertarget{replacing-in-price-and-service-fee-to}{%
\subsubsection{Replacing `\$' in price and service fee to
'\,'}\label{replacing-in-price-and-service-fee-to}}

\textbf{Replacing inside Microsoft Excel and renaming the file to be
`Airbnb\_Open\_Data\_modified.csv'}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{5}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{data} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}csv}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{https://github.com/aswinvk28/collection\PYZhy{}of\PYZhy{}kaggle\PYZhy{}datasets/raw/refs/heads/main/datasets/real\PYZus{}estate/airbnb\PYZus{}open\PYZus{}data/Airbnb\PYZus{}Open\PYZus{}Data\PYZus{}modified.csv}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\PY{n}{data}\PY{o}{.}\PY{n}{price}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
<ipython-input-5-c5dd6aaadf14>:1: DtypeWarning: Columns (25) have mixed types.
Specify dtype option on import or set low\_memory=False.
  data = pd.read\_csv("https://github.com/aswinvk28/collection-of-kaggle-datasets
/raw/refs/heads/main/datasets/real\_estate/airbnb\_open\_data/Airbnb\_Open\_Data\_modi
fied.csv")
    \end{Verbatim}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{5}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
0          966.0
1          142.0
2          620.0
3          368.0
4          204.0
           {\ldots}
102594     844.0
102595     837.0
102596     988.0
102597     546.0
102598    1032.0
Name: price, Length: 102599, dtype: float64
\end{Verbatim}
\end{tcolorbox}
        
    \hypertarget{meaningful-impute-of-attributes-data-cleaning-for-visualization}{%
\subsection{Meaningful Impute of Attributes (Data Cleaning for
Visualization)}\label{meaningful-impute-of-attributes-data-cleaning-for-visualization}}

    \hypertarget{imputing-host_identity_verified-with-blanks-as-unconfirmed.-any-unknown-host_identity_verified-is-taken-to-be-unconfirmed.}{%
\subsubsection{Imputing Host\_Identity\_Verified with blanks as
unconfirmed. Any unknown host\_identity\_verified is taken to be
unconfirmed.}\label{imputing-host_identity_verified-with-blanks-as-unconfirmed.-any-unknown-host_identity_verified-is-taken-to-be-unconfirmed.}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{6}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{} Imputing Host\PYZus{}Identity\PYZus{}Verified with blanks as unconfirmed. Any unknown host\PYZus{}identity\PYZus{}verified is taken to be unconfirmed.}
\PY{n}{data}\PY{o}{.}\PY{n}{host\PYZus{}identity\PYZus{}verified}\PY{p}{[}\PY{n}{pd}\PY{o}{.}\PY{n}{isna}\PY{p}{(}\PY{n}{data}\PY{o}{.}\PY{n}{host\PYZus{}identity\PYZus{}verified}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{category}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{unconfirmed}\PY{l+s+s1}{\PYZsq{}}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
<ipython-input-6-db227542371e>:2: FutureWarning: ChainedAssignmentError:
behaviour will change in pandas 3.0!
You are setting values through chained assignment. Currently this works in
certain cases, but when using Copy-on-Write (which will become the default
behaviour in pandas 3.0) this will never work to update the original DataFrame
or Series, because the intermediate object on which we are setting values will
behave as a copy.
A typical example is when you are setting values in a column of a DataFrame,
like:

df["col"][row\_indexer] = value

Use `df.loc[row\_indexer, "col"] = values` instead, to perform the assignment in
a single step and ensure this keeps updating the original `df`.

See the caveats in the documentation: https://pandas.pydata.org/pandas-
docs/stable/user\_guide/indexing.html\#returning-a-view-versus-a-copy

  data.host\_identity\_verified[pd.isna(data.host\_identity\_verified.astype('catego
ry'))] = 'unconfirmed'
<ipython-input-6-db227542371e>:2: SettingWithCopyWarning:
A value is trying to be set on a copy of a slice from a DataFrame

See the caveats in the documentation: https://pandas.pydata.org/pandas-
docs/stable/user\_guide/indexing.html\#returning-a-view-versus-a-copy
  data.host\_identity\_verified[pd.isna(data.host\_identity\_verified.astype('catego
ry'))] = 'unconfirmed'
    \end{Verbatim}

    \hypertarget{imputing-country-and-country-code-to-be-united-states-and-us-respectively}{%
\subsubsection{Imputing country and country code to be United States and
US
respectively}\label{imputing-country-and-country-code-to-be-united-states-and-us-respectively}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{7}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{} Imputing country and country code to be United States and US respectively}
\PY{n}{data}\PY{o}{.}\PY{n}{country}\PY{p}{[}\PY{n}{pd}\PY{o}{.}\PY{n}{isna}\PY{p}{(}\PY{n}{data}\PY{o}{.}\PY{n}{country}\PY{p}{)}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{United States}\PY{l+s+s1}{\PYZsq{}}
\PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{country code}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{[}\PY{n}{pd}\PY{o}{.}\PY{n}{isna}\PY{p}{(}\PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{country code}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{US}\PY{l+s+s1}{\PYZsq{}}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
<ipython-input-7-c3d0d5b9266a>:2: FutureWarning: ChainedAssignmentError:
behaviour will change in pandas 3.0!
You are setting values through chained assignment. Currently this works in
certain cases, but when using Copy-on-Write (which will become the default
behaviour in pandas 3.0) this will never work to update the original DataFrame
or Series, because the intermediate object on which we are setting values will
behave as a copy.
A typical example is when you are setting values in a column of a DataFrame,
like:

df["col"][row\_indexer] = value

Use `df.loc[row\_indexer, "col"] = values` instead, to perform the assignment in
a single step and ensure this keeps updating the original `df`.

See the caveats in the documentation: https://pandas.pydata.org/pandas-
docs/stable/user\_guide/indexing.html\#returning-a-view-versus-a-copy

  data.country[pd.isna(data.country)] = 'United States'
<ipython-input-7-c3d0d5b9266a>:2: SettingWithCopyWarning:
A value is trying to be set on a copy of a slice from a DataFrame

See the caveats in the documentation: https://pandas.pydata.org/pandas-
docs/stable/user\_guide/indexing.html\#returning-a-view-versus-a-copy
  data.country[pd.isna(data.country)] = 'United States'
<ipython-input-7-c3d0d5b9266a>:3: FutureWarning: ChainedAssignmentError:
behaviour will change in pandas 3.0!
You are setting values through chained assignment. Currently this works in
certain cases, but when using Copy-on-Write (which will become the default
behaviour in pandas 3.0) this will never work to update the original DataFrame
or Series, because the intermediate object on which we are setting values will
behave as a copy.
A typical example is when you are setting values in a column of a DataFrame,
like:

df["col"][row\_indexer] = value

Use `df.loc[row\_indexer, "col"] = values` instead, to perform the assignment in
a single step and ensure this keeps updating the original `df`.

See the caveats in the documentation: https://pandas.pydata.org/pandas-
docs/stable/user\_guide/indexing.html\#returning-a-view-versus-a-copy

  data['country code'][pd.isna(data['country code'])] = 'US'
<ipython-input-7-c3d0d5b9266a>:3: SettingWithCopyWarning:
A value is trying to be set on a copy of a slice from a DataFrame

See the caveats in the documentation: https://pandas.pydata.org/pandas-
docs/stable/user\_guide/indexing.html\#returning-a-view-versus-a-copy
  data['country code'][pd.isna(data['country code'])] = 'US'
    \end{Verbatim}

    \hypertarget{setting-brookln-and-brooklyn-as-same}{%
\subsubsection{Setting brookln and Brooklyn as
same}\label{setting-brookln-and-brooklyn-as-same}}

\begin{itemize}
\tightlist
\item
  \textbf{Setting brookln and Brooklyn as the same `Brooklyn'}
\item
  \textbf{Setting manhattan and Manhattan as the same `Manhattan'}
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{neighbourhood group}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{unique}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
array(['Brooklyn', 'Manhattan', 'brookln', 'manhatan', 'Queens', nan,
       'Staten Island', 'Bronx'], dtype=object)
\end{Verbatim}
\end{tcolorbox}
        
    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{8}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{data}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{neighbourhood group}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{brookln}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{neighbourhood group}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Brooklyn}\PY{l+s+s1}{\PYZsq{}}
\PY{n}{data}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{neighbourhood group}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{manhatan}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{neighbourhood group}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Manhattan}\PY{l+s+s1}{\PYZsq{}}
\end{Verbatim}
\end{tcolorbox}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{neighbourhood group}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{unique}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
array(['Brooklyn', 'Manhattan', 'Queens', nan, 'Staten Island', 'Bronx'],
      dtype=object)
\end{Verbatim}
\end{tcolorbox}
        
    \textbf{Now we have got 5 elements instead of 7 elements for
neighbourhood group}

    \hypertarget{executing-drop-commands-again-on-the-modified-dataset}{%
\subsection{Executing drop commands again on the modified
dataset}\label{executing-drop-commands-again-on-the-modified-dataset}}

\begin{itemize}
\tightlist
\item
  \textbf{Removing Duplicates from the dataset}
\item
  \textbf{Executing Drop commands by dropping attributes}
\item
  \textbf{Executing assigning dtypes commands}
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{9}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{data} \PY{o}{=} \PY{n}{data}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{n}{index}\PY{o}{=}\PY{n}{data}\PY{p}{[}\PY{n}{data}\PY{o}{.}\PY{n}{duplicated}\PY{p}{(}\PY{p}{)}\PY{p}{]}\PY{o}{.}\PY{n}{index}\PY{p}{)}
\PY{n}{data}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{n}{columns}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{NAME}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{host name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\PY{n}{data}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{n}{index}\PY{o}{=}\PY{n}{data}\PY{p}{[}\PY{n}{data}\PY{o}{.}\PY{n}{price}\PY{o}{.}\PY{n}{isnull}\PY{p}{(}\PY{p}{)}\PY{p}{]}\PY{o}{.}\PY{n}{index}\PY{p}{,} \PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}
\PY{n}{data} \PY{o}{=} \PY{n}{data}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{host\PYZus{}identity\PYZus{}verified}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{category}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{neighbourhood group}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{category}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{neighbourhood}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{category}\PY{l+s+s1}{\PYZsq{}}\PY{p}{\PYZcb{}}\PY{p}{)}
\PY{n}{data} \PY{o}{=} \PY{n}{data}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{country}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{category}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{country code}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{category}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{instant\PYZus{}bookable}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{category}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{cancellation\PYZus{}policy}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{category}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{room type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{category}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Construction year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{float64}\PY{l+s+s1}{\PYZsq{}}\PY{p}{\PYZcb{}}\PY{p}{)}
\PY{n}{data} \PY{o}{=} \PY{n}{data}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{int32}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{service fee}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{float64}\PY{l+s+s1}{\PYZsq{}}\PY{p}{\PYZcb{}}\PY{p}{)}
\PY{n}{data}\PY{o}{.}\PY{n}{count}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{9}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
id                                101811
host id                           101811
host\_identity\_verified            101811
neighbourhood group               101783
neighbourhood                     101796
lat                               101803
long                              101803
country                           101811
country code                      101811
instant\_bookable                  101711
cancellation\_policy               101740
room type                         101811
Construction year                 101601
price                             101811
service fee                       101572
minimum nights                    101411
number of reviews                 101628
last review                        86005
reviews per month                  86020
review rate number                101492
calculated host listings count    101492
availability 365                  101363
house\_rules                        50104
license                                2
dtype: int64
\end{Verbatim}
\end{tcolorbox}
        
    \hypertarget{checking-for-missing-values-in-the-dataset}{%
\subsubsection{Checking for missing values in the
dataset}\label{checking-for-missing-values-in-the-dataset}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{} checking for missing values in the dataset}
\PY{n}{data}\PY{o}{.}\PY{n}{isnull}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
id                                     0
host id                                0
host\_identity\_verified                 0
neighbourhood group                   28
neighbourhood                         15
lat                                    8
long                                   8
country                                0
country code                           0
instant\_bookable                     100
cancellation\_policy                   71
room type                              0
Construction year                    210
price                                  0
service fee                          239
minimum nights                       400
number of reviews                    183
last review                        15806
reviews per month                  15791
review rate number                   319
calculated host listings count       319
availability 365                     448
house\_rules                        51707
license                           101809
dtype: int64
\end{Verbatim}
\end{tcolorbox}
        
    \hypertarget{showing-the-distribution-of-price-and-price-related-attributes-reviews-and-more}{%
\subsection{Showing the Distribution of Price and Price related
attributes, Reviews and
more}\label{showing-the-distribution-of-price-and-price-related-attributes-reviews-and-more}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{numerical\PYZus{}df} \PY{o}{=} \PY{n}{data}\PY{o}{.}\PY{n}{copy}\PY{p}{(}\PY{p}{)}
\PY{n}{fig}\PY{p}{,} \PY{n}{ax} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{subplots}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{numerical\PYZus{}df}\PY{o}{.}\PY{n}{hist}\PY{p}{(}\PY{n}{column}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{ax}\PY{o}{=}\PY{n}{ax}\PY{p}{)}
\PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}title}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Histogram of Price of Rented Accommodations}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\PY{n}{ax}\PY{o}{.}\PY{n}{set}\PY{p}{(}\PY{n}{xlabel}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{ylabel}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{count of rows}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
[Text(0.5, 0, 'price'), Text(0, 0.5, 'count of rows')]
\end{Verbatim}
\end{tcolorbox}
        
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{Practical_Project_for_Airbnb_Open_Data_files/Practical_Project_for_Airbnb_Open_Data_67_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \hypertarget{histogram-of-service-fee}{%
\subsubsection{Histogram of service
fee}\label{histogram-of-service-fee}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{numerical\PYZus{}df} \PY{o}{=} \PY{n}{data}\PY{o}{.}\PY{n}{copy}\PY{p}{(}\PY{p}{)}
\PY{n}{fig}\PY{p}{,} \PY{n}{ax} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{subplots}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{numerical\PYZus{}df}\PY{o}{.}\PY{n}{hist}\PY{p}{(}\PY{n}{column}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{service fee}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{ax}\PY{o}{=}\PY{n}{ax}\PY{p}{)}
\PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}title}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Histogram of Service Fee of Rented Accommodations}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\PY{n}{ax}\PY{o}{.}\PY{n}{set}\PY{p}{(}\PY{n}{xlabel}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Service Fee}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{ylabel}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{count of rows}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
[Text(0.5, 0, 'Service Fee'), Text(0, 0.5, 'count of rows')]
\end{Verbatim}
\end{tcolorbox}
        
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{Practical_Project_for_Airbnb_Open_Data_files/Practical_Project_for_Airbnb_Open_Data_69_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \hypertarget{correlation-plot-of-numerical-measures}{%
\subsubsection{Correlation plot of Numerical
Measures}\label{correlation-plot-of-numerical-measures}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{numerical\PYZus{}measures} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Construction year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{service fee}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{minimum nights}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{lat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{long}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{number of reviews}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{reviews per month}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{review rate number}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{calculated host listings count}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{availability 365}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
\PY{n}{corr} \PY{o}{=} \PY{n}{data}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{n}{numerical\PYZus{}measures}\PY{p}{]}\PY{o}{.}\PY{n}{corr}\PY{p}{(}\PY{p}{)}
\PY{n}{fig}\PY{p}{,} \PY{n}{ax} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{subplots}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{,} \PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{12}\PY{p}{,}\PY{l+m+mi}{8}\PY{p}{)}\PY{p}{)}
\PY{n}{sns}\PY{o}{.}\PY{n}{heatmap}\PY{p}{(}\PY{n}{corr}\PY{p}{,} \PY{n}{annot}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{ax}\PY{o}{=}\PY{n}{ax}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
<Axes: >
\end{Verbatim}
\end{tcolorbox}
        
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{Practical_Project_for_Airbnb_Open_Data_files/Practical_Project_for_Airbnb_Open_Data_71_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \hypertarget{plot-between-price-and-service-fee}{%
\subsection{Plot between Price and Service
fee}\label{plot-between-price-and-service-fee}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{fig}\PY{p}{,} \PY{n}{ax} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{subplots}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{,}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{12}\PY{p}{,}\PY{l+m+mi}{8}\PY{p}{)}\PY{p}{)}
\PY{n}{ax}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{data}\PY{o}{.}\PY{n}{price}\PY{p}{,} \PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{service fee}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
\PY{n}{ax}\PY{o}{.}\PY{n}{set}\PY{p}{(}\PY{n}{xlabel}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{ylabel}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Service Fee}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}title}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Plot between Price and Service Fee}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
Text(0.5, 1.0, 'Plot between Price and Service Fee')
\end{Verbatim}
\end{tcolorbox}
        
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{Practical_Project_for_Airbnb_Open_Data_files/Practical_Project_for_Airbnb_Open_Data_73_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \hypertarget{descriptive-statistics}{%
\section{Descriptive Statistics}\label{descriptive-statistics}}

\begin{itemize}
\tightlist
\item
  Generating Summary Statistics
\item
  Help Answer Research Questions
\item
  Outliers and Boxplots
\end{itemize}

    \hypertarget{generating-summary-statistics}{%
\subsection{Generating Summary
Statistics}\label{generating-summary-statistics}}

\begin{itemize}
\tightlist
\item
  Show summary statistics
\item
  Obtain ranks for each Airbnb Open Data
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{} showing summary statistics}
\PY{n}{data}\PY{o}{.}\PY{n}{describe}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{T}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
                                   count          mean           std  \textbackslash{}
id                              101811.0  2.919211e+07  1.627009e+07
host id                         101811.0  4.925743e+10  2.853645e+10
lat                             101803.0  4.072809e+01  5.586603e-02
long                            101803.0 -7.394966e+01  4.950258e-02
Construction year               101601.0  2.012488e+03  5.765345e+00
price                           101811.0  6.253556e+02  3.316726e+02
service fee                     101572.0  1.250508e+02  6.633372e+01
minimum nights                  101411.0  8.116338e+00  3.061968e+01
number of reviews               101628.0  2.752219e+01  4.958433e+01
reviews per month                86020.0  1.376463e+00  1.749085e+00
review rate number              101492.0  3.278909e+00  1.284891e+00
calculated host listings count  101492.0  7.927482e+00  3.225888e+01
availability 365                101363.0  1.410303e+02  1.354195e+02

                                         min           25\%           50\%  \textbackslash{}
id                              1.001254e+06  1.511122e+07  2.919183e+07
host id                         1.236005e+08  2.458836e+10  4.912062e+10
lat                             4.049979e+01  4.068872e+01  4.072228e+01
long                           -7.424984e+01 -7.398257e+01 -7.395444e+01
Construction year               2.003000e+03  2.007000e+03  2.012000e+03
price                           5.000000e+01  3.400000e+02  6.250000e+02
service fee                     1.000000e+01  6.800000e+01  1.250000e+02
minimum nights                 -1.223000e+03  2.000000e+00  3.000000e+00
number of reviews               0.000000e+00  1.000000e+00  7.000000e+00
reviews per month               1.000000e-02  2.200000e-01  7.400000e-01
review rate number              1.000000e+00  2.000000e+00  3.000000e+00
calculated host listings count  1.000000e+00  1.000000e+00  1.000000e+00
availability 365               -1.000000e+01  3.000000e+00  9.600000e+01

                                         75\%           max
id                              4.329012e+07  5.736742e+07
host id                         7.398764e+10  9.876313e+10
lat                             4.076277e+01  4.091697e+01
long                           -7.393235e+01 -7.370522e+01
Construction year               2.017000e+03  2.022000e+03
price                           9.130000e+02  1.200000e+03
service fee                     1.830000e+02  2.400000e+02
minimum nights                  5.000000e+00  5.645000e+03
number of reviews               3.100000e+01  1.024000e+03
reviews per month               2.010000e+00  9.000000e+01
review rate number              4.000000e+00  5.000000e+00
calculated host listings count  2.000000e+00  3.320000e+02
availability 365                2.680000e+02  3.677000e+03
\end{Verbatim}
\end{tcolorbox}
        
    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{} showing rank information of the dataset}
\PY{n}{data}\PY{o}{.}\PY{n}{rank}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
              id  host id  host\_identity\_verified  neighbourhood group  \textbackslash{}
0            1.0  82574.0                 25558.5              23456.0
1            2.0  54192.0                 76464.0              65948.0
2            3.0  81342.0                 25558.5              65948.0
3            4.0  87814.0                 25558.5              23456.0
4            5.0  94895.0                 76464.0              65948.0
{\ldots}          {\ldots}      {\ldots}                     {\ldots}                  {\ldots}
102053  101807.0  79701.0                 25558.5              23456.0
102054  101808.0  47734.0                 76464.0              23456.0
102055  101809.0  24665.0                 76464.0              23456.0
102056  101810.0  16183.0                 25558.5              65948.0
102057  101811.0  96469.0                 76464.0              65948.0

        neighbourhood      lat     long  country  country code  \textbackslash{}
0             58710.0   6024.5  33948.0  50906.0       50906.0
1             65785.0  70022.5  24061.0  50906.0       50906.0
2             49955.0  92705.0  68274.0  50906.0       50906.0
3             22351.0  21869.0  44119.0  50906.0       50906.0
4             31131.0  89036.0  65431.5  50906.0       50906.0
{\ldots}               {\ldots}      {\ldots}      {\ldots}      {\ldots}           {\ldots}
102053        39234.0   6388.0  42633.5  50906.0       50906.0
102054        14976.5  32869.5  79612.0  50906.0       50906.0
102055         6843.5  16370.5  89556.0  50906.0       50906.0
102056        49955.0  93545.5  66518.5  50906.0       50906.0
102057        49955.0  93696.0  60960.0  50906.0       50906.0

        instant\_bookable  {\ldots}  service fee  minimum nights  number of reviews  \textbackslash{}
0                25533.5  {\ldots}      80782.0         83698.5            54704.5
1                25533.5  {\ldots}       7916.5         93977.5            82493.5
2                76389.0  {\ldots}      50415.5         56698.5             7824.0
3                76389.0  {\ldots}      27961.5         93977.5           101022.0
4                25533.5  {\ldots}      13624.0         83698.5            54704.5
{\ldots}                  {\ldots}  {\ldots}          {\ldots}             {\ldots}                {\ldots}
102053           76389.0  {\ldots}          NaN         80834.5            59984.5
102054           25533.5  {\ldots}          NaN         12634.0            68071.5
102055           76389.0  {\ldots}          NaN         36975.5            84069.5
102056           76389.0  {\ldots}          NaN         36975.5             7824.0
102057           25533.5  {\ldots}          NaN         67996.5            70606.0

        last review  reviews per month  review rate number  \textbackslash{}
0           34450.0            20771.5             66725.5
1           57370.0            30774.5             66725.5
2               NaN                NaN             89897.5
3           23824.5            81978.0             66725.5
4           37769.5            10866.5             43610.5
{\ldots}             {\ldots}                {\ldots}                 {\ldots}
102053      51600.0            33466.0             89897.5
102054      83644.0            42425.0             43610.5
102055      74376.0            74801.0             66725.5
102056          NaN                NaN              4578.0
102057      62619.5            45563.5             66725.5

        calculated host listings count  availability 365  house\_rules  license
0                              90078.5           78801.0      10553.5      NaN
1                              70154.5           70523.5      31018.5      NaN
2                              31489.5           91650.0      14839.5      NaN
3                              31489.5           84566.0          NaN      NaN
4                              31489.5           79215.5      34627.5      NaN
{\ldots}                                {\ldots}               {\ldots}          {\ldots}      {\ldots}
102053                         31489.5           12123.0      40764.5      NaN
102054                         70154.5           12123.0       1385.5      NaN
102055                         70154.5           71364.5       2824.5      NaN
102056                         31489.5           12123.0      11018.5      NaN
102057                         31489.5           71738.5      35200.5      NaN

[101811 rows x 24 columns]
\end{Verbatim}
\end{tcolorbox}
        
    \hypertarget{quality-of-measurements}{%
\subsection{Quality of Measurements}\label{quality-of-measurements}}

\begin{itemize}
\item
  Construction year is not a good attribute in quality of measurements
  because Nov-2012 is almost equal to Jan-2013. In that case analysis
  could be distorted.
\item
  Relation between Price and Service Fee is unknown to us but there is
  some strict correlation
\item
  Some latitudes and longitudes are only 3 decimal places precise, as
  opposed to 5 decimal places precision for other values
\end{itemize}

\hypertarget{plot-between-construction-year-and-net-price}{%
\subsubsection{Plot between Construction Year and Net
Price}\label{plot-between-construction-year-and-net-price}}

\textbf{Group by Construction Year and taking sum of Price}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{g} \PY{o}{=} \PY{n}{data}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{n}{by}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Construction year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{agg}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{sum}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{mean}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
\PY{n}{fig}\PY{p}{,} \PY{n}{ax} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{subplots}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{,}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{12}\PY{p}{,}\PY{l+m+mi}{8}\PY{p}{)}\PY{p}{)}

\PY{n}{ax}\PY{o}{.}\PY{n}{bar}\PY{p}{(}\PY{n}{g}\PY{o}{.}\PY{n}{index}\PY{p}{,} \PY{n}{g}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{sum}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{color}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{gray}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\PY{n}{ax}\PY{o}{.}\PY{n}{set}\PY{p}{(}\PY{n}{xlabel}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Construction Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{ylabel}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{sum of price of all properties in that year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}title}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Net Price against Construction Year plot}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}

\PY{n}{ax}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{g}\PY{o}{.}\PY{n}{index}\PY{p}{,} \PY{n}{g}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{sum}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{color}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{red}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
[<matplotlib.lines.Line2D at 0x7c0c45263010>]
\end{Verbatim}
\end{tcolorbox}
        
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{Practical_Project_for_Airbnb_Open_Data_files/Practical_Project_for_Airbnb_Open_Data_79_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \textbf{Confidence bands between Construction Year and Price}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{g} \PY{o}{=} \PY{n}{data}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{n}{by}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Construction year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{agg}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{sum}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{mean}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{sem}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
\PY{n}{fig}\PY{p}{,} \PY{n}{ax} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{subplots}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{,}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{12}\PY{p}{,}\PY{l+m+mi}{8}\PY{p}{)}\PY{p}{)}
\PY{n}{ax}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{g}\PY{o}{.}\PY{n}{index}\PY{p}{,} \PY{n}{g}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{mean}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{color}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{red}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{label}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Mean Line of Price and Construction Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\PY{n}{ax}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{g}\PY{o}{.}\PY{n}{index}\PY{p}{,} \PY{n}{g}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{mean}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{\PYZhy{}}\PY{l+m+mf}{1.96}\PY{o}{*}\PY{n}{g}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{sem}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{color}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{blue}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{label}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Lower confident Bound}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{ls}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{dashed}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\PY{n}{ax}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{g}\PY{o}{.}\PY{n}{index}\PY{p}{,} \PY{n}{g}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{mean}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{+}\PY{l+m+mf}{1.96}\PY{o}{*}\PY{n}{g}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{sem}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{color}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{orange}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{label}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Upper Confident bound}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{ls}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{dashed}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\PY{n}{ax}\PY{o}{.}\PY{n}{fill\PYZus{}between}\PY{p}{(}\PY{n}{g}\PY{o}{.}\PY{n}{index}\PY{p}{,} \PY{n}{y1}\PY{o}{=}\PY{n}{g}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{mean}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{\PYZhy{}}\PY{l+m+mf}{1.96}\PY{o}{*}\PY{n}{g}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{sem}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{y2}\PY{o}{=}\PY{n}{g}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{mean}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{+}\PY{l+m+mf}{1.96}\PY{o}{*}\PY{n}{g}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{sem}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{edgecolor}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{g}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{facecolor}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{g}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{alpha}\PY{o}{=}\PY{l+m+mf}{0.4}\PY{p}{)}
\PY{n}{ax}\PY{o}{.}\PY{n}{legend}\PY{p}{(}\PY{p}{)}
\PY{n}{ax}\PY{o}{.}\PY{n}{set}\PY{p}{(}\PY{n}{xlabel}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Construction Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{ylabel}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Mean of Price}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}title}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Plot between Construction Year and Mean Price}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
Text(0.5, 1.0, 'Plot between Construction Year and Mean Price')
\end{Verbatim}
\end{tcolorbox}
        
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{Practical_Project_for_Airbnb_Open_Data_files/Practical_Project_for_Airbnb_Open_Data_81_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \hypertarget{box-plot-of-numerical-measures}{%
\subsection{Box plot of numerical
measures}\label{box-plot-of-numerical-measures}}

\begin{itemize}
\tightlist
\item
  \textbf{To check the outliers}
\item
  \textbf{To understand the confidence bands}
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{} set a = 1 to increment}
\PY{n}{a}\PY{o}{=}\PY{l+m+mi}{1}
\PY{c+c1}{\PYZsh{} set figure size}
\PY{n}{plt}\PY{o}{.}\PY{n}{figure}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{20}\PY{p}{,}\PY{l+m+mi}{18}\PY{p}{)}\PY{p}{)}
\PY{c+c1}{\PYZsh{} iterate through numerical measures}
\PY{k}{for} \PY{n}{attr} \PY{o+ow}{in} \PY{n}{numerical\PYZus{}measures}\PY{p}{:}
    \PY{c+c1}{\PYZsh{} create subplots}
    \PY{n}{plt}\PY{o}{.}\PY{n}{subplot}\PY{p}{(}\PY{l+m+mi}{4}\PY{p}{,}\PY{l+m+mi}{3}\PY{p}{,}\PY{n}{a}\PY{p}{)}
    \PY{c+c1}{\PYZsh{} plot boxplot}
    \PY{n}{ax}\PY{o}{=}\PY{n}{sns}\PY{o}{.}\PY{n}{boxplot}\PY{p}{(}\PY{n}{x}\PY{o}{=}\PY{n}{attr}\PY{p}{,} \PY{n}{data}\PY{o}{=}\PY{n}{data}\PY{p}{,} \PY{n}{color}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{y}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
    \PY{c+c1}{\PYZsh{} set label}
    \PY{n}{plt}\PY{o}{.}\PY{n}{xlabel}\PY{p}{(}\PY{n}{attr}\PY{p}{,} \PY{n}{fontsize}\PY{o}{=}\PY{l+m+mi}{14}\PY{p}{)}
    \PY{c+c1}{\PYZsh{} increment a}
    \PY{n}{a}\PY{o}{+}\PY{o}{=}\PY{l+m+mi}{1}
\PY{c+c1}{\PYZsh{} show plot}
\PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{Practical_Project_for_Airbnb_Open_Data_files/Practical_Project_for_Airbnb_Open_Data_83_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    Findings:

\begin{itemize}
\tightlist
\item
  \textbf{There are outliers for latitude and longitude attributes
  (geographical attributes)}
\item
  \textbf{There are outliers for reviews attributes but not pricing
  attributes as pricing attributes are evenly separated}
\item
  \textbf{There are no outliers for review rate number}
\end{itemize}

    \hypertarget{scatter-matrix-for-numerical-measures}{%
\subsection{Scatter matrix for numerical
measures}\label{scatter-matrix-for-numerical-measures}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{} plot a scatter matrix using pandas plotting}
\PY{n}{pd}\PY{o}{.}\PY{n}{plotting}\PY{o}{.}\PY{n}{scatter\PYZus{}matrix}\PY{p}{(}\PY{n}{data}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{n}{numerical\PYZus{}measures}\PY{p}{]}\PY{p}{,} \PY{n}{alpha}\PY{o}{=}\PY{l+m+mf}{0.2}\PY{p}{,} \PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{16}\PY{p}{,}\PY{l+m+mi}{12}\PY{p}{)}\PY{p}{)}
\PY{c+c1}{\PYZsh{} show the plot}
\PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{Practical_Project_for_Airbnb_Open_Data_files/Practical_Project_for_Airbnb_Open_Data_86_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{itemize}
\tightlist
\item
  \textbf{Correlation plot gives values}
\item
  \textbf{Whereas, scatter matrix plot gives out plotting figures in the
  relationship between the two variables}
\end{itemize}

    \hypertarget{research-questions}{%
\section{1.0 Research Questions}\label{research-questions}}

    \hypertarget{research-question-1}{%
\section{1.1 Research Question 1}\label{research-question-1}}

\hypertarget{what-is-the-geographical-distribution-of-airbnb-rented-properties-over-price}{%
\subsection{1.1 What is the Geographical Distribution of AirBnb rented
properties over
Price?}\label{what-is-the-geographical-distribution-of-airbnb-rented-properties-over-price}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{12}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{geometry} \PY{o}{=} \PY{p}{[}\PY{n}{Point}\PY{p}{(}\PY{n}{xy}\PY{p}{)} \PY{k}{for} \PY{n}{xy} \PY{o+ow}{in} \PY{n+nb}{zip}\PY{p}{(}\PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{long}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{lat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{p}{]}
\PY{n}{crs} \PY{o}{=} \PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{init}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{epsg:4326}\PY{l+s+s1}{\PYZsq{}}\PY{p}{\PYZcb{}}
\PY{n}{street\PYZus{}map} \PY{o}{=} \PY{n}{gpd}\PY{o}{.}\PY{n}{read\PYZus{}file}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{https://github.com/aswinvk28/collection\PYZhy{}of\PYZhy{}kaggle\PYZhy{}datasets/raw/refs/heads/main/datasets/real\PYZus{}estate/airbnb\PYZus{}open\PYZus{}data/cb\PYZus{}2018\PYZus{}36\PYZus{}bg\PYZus{}500k.shp}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\PY{n}{geo\PYZus{}df} \PY{o}{=} \PY{n}{gpd}\PY{o}{.}\PY{n}{GeoDataFrame}\PY{p}{(}\PY{n}{data}\PY{p}{,} \PY{c+c1}{\PYZsh{}specify our data}
                          \PY{n}{crs}\PY{o}{=}\PY{n}{crs}\PY{p}{,} \PY{c+c1}{\PYZsh{}specify our coordinate reference system}
                          \PY{n}{geometry}\PY{o}{=}\PY{n}{geometry}\PY{p}{)} \PY{c+c1}{\PYZsh{}specify the geometry list we created}
\PY{n}{geo\PYZus{}df}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
/usr/local/lib/python3.10/dist-packages/pyproj/crs/crs.py:143: FutureWarning:
'+init=<authority>:<code>' syntax is deprecated. '<authority>:<code>' is the
preferred initialization method. When making the change, be mindful of axis
order changes: https://pyproj4.github.io/pyproj/stable/gotchas.html\#axis-order-
changes-in-proj-6
  in\_crs\_string = \_prepare\_from\_proj\_string(in\_crs\_string)
    \end{Verbatim}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{12}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
        id      host id host\_identity\_verified neighbourhood group  \textbackslash{}
0  1001254  80014485718            unconfirmed            Brooklyn
1  1002102  52335172823               verified           Manhattan
2  1002403  78829239556            unconfirmed           Manhattan
3  1002755  85098326012            unconfirmed            Brooklyn
4  1003689  92037596077               verified           Manhattan

  neighbourhood       lat      long        country country code  \textbackslash{}
0    Kensington  40.64749 -73.97237  United States           US
1       Midtown  40.75362 -73.98377  United States           US
2        Harlem  40.80902 -73.94190  United States           US
3  Clinton Hill  40.68514 -73.95976  United States           US
4   East Harlem  40.79851 -73.94399  United States           US

  instant\_bookable  {\ldots} minimum nights number of reviews  last review  \textbackslash{}
0            False  {\ldots}           10.0               9.0   10/19/2021
1            False  {\ldots}           30.0              45.0    5/21/2022
2             True  {\ldots}            3.0               0.0          NaN
3             True  {\ldots}           30.0             270.0   07/05/2019
4            False  {\ldots}           10.0               9.0   11/19/2018

   reviews per month  review rate number  calculated host listings count  \textbackslash{}
0               0.21                 4.0                             6.0
1               0.38                 4.0                             2.0
2                NaN                 5.0                             1.0
3               4.64                 4.0                             1.0
4               0.10                 3.0                             1.0

   availability 365                                        house\_rules  \textbackslash{}
0             286.0  Clean up and treat the home the way you'd like{\ldots}
1             228.0  Pet friendly but please confirm with me if the{\ldots}
2             352.0  I encourage you to use my kitchen, cooking and{\ldots}
3             322.0                                                NaN
4             289.0  Please no smoking in the house, porch or on th{\ldots}

   license                    geometry
0      NaN  POINT (-73.97237 40.64749)
1      NaN  POINT (-73.98377 40.75362)
2      NaN   POINT (-73.9419 40.80902)
3      NaN  POINT (-73.95976 40.68514)
4      NaN  POINT (-73.94399 40.79851)

[5 rows x 25 columns]
\end{Verbatim}
\end{tcolorbox}
        
    \hypertarget{plotting-the-u.s.-state-of-new-york}{%
\subsection{Plotting the U.S. state of New
York}\label{plotting-the-u.s.-state-of-new-york}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{14}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{fig}\PY{p}{,} \PY{n}{ax} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{subplots}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{15}\PY{p}{,}\PY{l+m+mi}{15}\PY{p}{)}\PY{p}{)}
\PY{n}{street\PYZus{}map}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{ax}\PY{o}{=}\PY{n}{ax}\PY{p}{)}
\PY{n}{geo\PYZus{}df}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{ax}\PY{o}{=}\PY{n}{ax}\PY{p}{,}
            \PY{n}{markersize}\PY{o}{=}\PY{l+m+mi}{20}\PY{p}{,}
            \PY{n}{color}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{red}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
            \PY{n}{marker}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZca{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
            \PY{n}{label}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Property}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{legend}\PY{p}{(}\PY{n}{prop}\PY{o}{=}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{size}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:}\PY{l+m+mi}{15}\PY{p}{\PYZcb{}}\PY{p}{)}
\PY{n}{ax}\PY{o}{.}\PY{n}{set}\PY{p}{(}\PY{n}{xlabel}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Longitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{ylabel}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Latitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}title}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Plot of the U.S. state of New York with AirBnb Properties}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{Practical_Project_for_Airbnb_Open_Data_files/Practical_Project_for_Airbnb_Open_Data_92_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \hypertarget{plotting-the-price-as-color-palette-within-the-u.s.-state-of-new-york}{%
\subsection{Plotting the Price as color palette within the U.S. state of
New
York}\label{plotting-the-price-as-color-palette-within-the-u.s.-state-of-new-york}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{15}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{colors} \PY{o}{=} \PY{n}{sns}\PY{o}{.}\PY{n}{color\PYZus{}palette}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{rocket}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{as\PYZus{}cmap}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}\PY{o}{.}\PY{n}{colors}
\PY{n}{fig}\PY{p}{,} \PY{n}{ax} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{subplots}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{15}\PY{p}{,}\PY{l+m+mi}{15}\PY{p}{)}\PY{p}{)}
\PY{n}{street\PYZus{}map}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{ax}\PY{o}{=}\PY{n}{ax}\PY{p}{)}
\PY{n}{color\PYZus{}array} \PY{o}{=} \PY{p}{[}\PY{p}{]}
\PY{n}{idx} \PY{o}{=} \PY{l+m+mi}{0}
\PY{n}{r} \PY{o}{=} \PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{rank}\PY{p}{(}\PY{p}{)}
\PY{k}{for} \PY{n}{lat} \PY{o+ow}{in} \PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{lat}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{:}
  \PY{n}{color\PYZus{}array}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{colors}\PY{p}{[}\PY{p}{(}\PY{n}{r}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{n}{idx}\PY{p}{]} \PY{o}{/}\PY{o}{/} \PY{l+m+mi}{500}\PY{p}{)}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{int32}\PY{p}{)}\PY{p}{]}\PY{p}{)}
  \PY{n}{idx} \PY{o}{+}\PY{o}{=} \PY{l+m+mi}{1}
\PY{n}{geo\PYZus{}df}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{ax}\PY{o}{=}\PY{n}{ax}\PY{p}{,}
            \PY{n}{markersize}\PY{o}{=}\PY{l+m+mi}{20}\PY{p}{,}
            \PY{n}{color}\PY{o}{=}\PY{n}{color\PYZus{}array}\PY{p}{,}
            \PY{n}{marker}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZca{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}
            \PY{n}{label}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Property}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{legend}\PY{p}{(}\PY{n}{prop}\PY{o}{=}\PY{p}{\PYZob{}}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{size}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:}\PY{l+m+mi}{15}\PY{p}{\PYZcb{}}\PY{p}{)}
\PY{n}{ax}\PY{o}{.}\PY{n}{set}\PY{p}{(}\PY{n}{xlabel}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Longitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{ylabel}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Latitude}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}title}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Plot of the U.S. state of New York with AirBnb Properties coloured by Pricing}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{Practical_Project_for_Airbnb_Open_Data_files/Practical_Project_for_Airbnb_Open_Data_94_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \begin{itemize}
\tightlist
\item
  \textbf{The Geographical Distribution denotes darker colors as low
  Priced as brighter colors of Red as High Priced Properties}
\item
  \textbf{High Priced Properties are usually found near the Sea Coast}
\end{itemize}

\textbf{This confirms our plot is Correct}

    \hypertarget{research-question-2}{%
\section{2.1 Research Question 2}\label{research-question-2}}

\hypertarget{what-is-the-relation-between-price-room-type-and-neighbourhood-group}{%
\subsection{2.1 What is the relation between Price, Room Type and
Neighbourhood
Group?}\label{what-is-the-relation-between-price-room-type-and-neighbourhood-group}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{29}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{} setup the gridspec 2,2 with one main plot and 2 side plots on x and y axes respectively}
\PY{n}{result} \PY{o}{=} \PY{n}{setup\PYZus{}gridspec\PYZus{}\PYZus{}one\PYZus{}main\PYZus{}\PYZus{}two\PYZus{}side\PYZus{}subplots}\PY{p}{(}\PY{n}{plt}\PY{p}{)}
\PY{c+c1}{\PYZsh{} gridspec}
\PY{n}{gs} \PY{o}{=} \PY{n}{result}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{gridspec}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}
\PY{c+c1}{\PYZsh{} axis}
\PY{n}{ax} \PY{o}{=} \PY{n}{result}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{ax}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}
\PY{c+c1}{\PYZsh{} axis on top parallel to x\PYZhy{}axis}
\PY{n}{axx} \PY{o}{=} \PY{n}{result}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{axx}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}
\PY{c+c1}{\PYZsh{} axis on the side parallel to y\PYZhy{}axis}
\PY{n}{axy} \PY{o}{=} \PY{n}{result}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{axy}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}
\PY{c+c1}{\PYZsh{} figure of the plot}
\PY{n}{fig} \PY{o}{=} \PY{n}{result}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{fig}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}

\PY{k}{def} \PY{n+nf}{plot\PYZus{}price\PYZus{}room\PYZus{}type\PYZus{}reviews\PYZus{}per\PYZus{}month\PYZus{}by\PYZus{}neighbourhood\PYZus{}group}\PY{p}{(}\PY{p}{)}\PY{p}{:}

  \PY{n}{average\PYZus{}price\PYZus{}df} \PY{o}{=} \PY{n}{data}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{room type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{neighbourhood group}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{room type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{neighbourhood group}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}

  \PY{n}{room\PYZus{}type} \PY{o}{=} \PY{n}{average\PYZus{}price\PYZus{}df}\PY{o}{.}\PY{n}{index}\PY{o}{.}\PY{n}{get\PYZus{}level\PYZus{}values}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{)}
  \PY{n}{neighbourhood\PYZus{}group} \PY{o}{=} \PY{n}{average\PYZus{}price\PYZus{}df}\PY{o}{.}\PY{n}{index}\PY{o}{.}\PY{n}{get\PYZus{}level\PYZus{}values}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}

  \PY{n}{unique\PYZus{}colors} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}88E0EF}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}161E54}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}FF5151}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}FF9B6A}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}00ff00}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}

  \PY{n}{colors} \PY{o}{=} \PY{n+nb}{dict}\PY{p}{(}\PY{n+nb}{zip}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{unique}\PY{p}{(}\PY{n}{neighbourhood\PYZus{}group}\PY{p}{)}\PY{p}{,} \PY{n}{unique\PYZus{}colors}\PY{p}{)}\PY{p}{)}

  \PY{n}{ax}\PY{o}{.}\PY{n}{scatter}\PY{p}{(}\PY{n}{room\PYZus{}type}\PY{p}{,} \PY{n}{average\PYZus{}price\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{c}\PY{o}{=}\PY{p}{[}\PY{n}{colors}\PY{p}{[}\PY{n}{ng}\PY{p}{]} \PY{k}{for} \PY{n}{ng} \PY{o+ow}{in} \PY{n}{neighbourhood\PYZus{}group}\PY{p}{]}\PY{p}{,} \PY{n}{marker}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{o}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{s}\PY{o}{=}\PY{l+m+mi}{250}\PY{p}{,} \PY{n}{label}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Average Price over Room Type and Neighbourhood Group}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}

  \PY{c+c1}{\PYZsh{} create custom legend, by creating custom lines}
  \PY{n}{custom\PYZus{}lines} \PY{o}{=} \PY{p}{[}\PY{n}{Line2D}\PY{p}{(}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{,} \PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{,} \PY{n}{color}\PY{o}{=}\PY{n}{colors}\PY{p}{[}\PY{n}{ng}\PY{p}{]}\PY{p}{,} \PY{n}{lw}\PY{o}{=}\PY{l+m+mi}{4}\PY{p}{)} \PY{k}{for} \PY{n}{ng} \PY{o+ow}{in} \PY{n}{np}\PY{o}{.}\PY{n}{unique}\PY{p}{(}\PY{n}{neighbourhood\PYZus{}group}\PY{p}{)}\PY{p}{]}
  \PY{c+c1}{\PYZsh{} create legend using custom lines}
  \PY{n}{legend1} \PY{o}{=} \PY{n}{ax}\PY{o}{.}\PY{n}{legend}\PY{p}{(}\PY{n}{custom\PYZus{}lines}\PY{p}{,} \PY{n}{np}\PY{o}{.}\PY{n}{unique}\PY{p}{(}\PY{n}{neighbourhood\PYZus{}group}\PY{p}{)}\PY{p}{,} \PY{n}{loc}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{upper left}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{title}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Neighbourhood Group}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{framealpha}\PY{o}{=}\PY{l+m+mf}{0.1}\PY{p}{,} \PY{n}{fontsize}\PY{o}{=}\PY{l+m+mi}{20}\PY{p}{)}
  \PY{c+c1}{\PYZsh{} add legend to axis}
  \PY{n}{ax}\PY{o}{.}\PY{n}{add\PYZus{}artist}\PY{p}{(}\PY{n}{legend1}\PY{p}{)}
  \PY{n}{ax}\PY{o}{.}\PY{n}{legend}\PY{p}{(}\PY{p}{)}

  \PY{n}{ax}\PY{o}{.}\PY{n}{set}\PY{p}{(}\PY{n}{xlabel}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Room Type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{ylabel}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Average Price}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}

  \PY{n}{room\PYZus{}type\PYZus{}df} \PY{o}{=} \PY{n}{data}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{room type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}\PY{o}{.}\PY{n}{value\PYZus{}counts}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{p}{)}
  \PY{n}{bar\PYZus{}plot} \PY{o}{=} \PY{n}{axx}\PY{o}{.}\PY{n}{bar}\PY{p}{(}\PY{n}{room\PYZus{}type\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{room type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{room\PYZus{}type\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{count}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
  \PY{n}{idx} \PY{o}{=} \PY{l+m+mi}{0}
  \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n}{bar\PYZus{}plot}\PY{o}{.}\PY{n}{patches}\PY{p}{:}
    \PY{n}{axx}\PY{o}{.}\PY{n}{text}\PY{p}{(}\PY{n}{i}\PY{o}{.}\PY{n}{get\PYZus{}x}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{i}\PY{o}{.}\PY{n}{get\PYZus{}height}\PY{p}{(}\PY{p}{)} \PY{o}{+} \PY{l+m+mf}{5.0}\PY{p}{,} \PY{n+nb}{str}\PY{p}{(}\PY{n+nb}{round}\PY{p}{(}\PY{n}{room\PYZus{}type\PYZus{}df}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{n}{idx}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{]}\PY{o}{/}\PY{n}{room\PYZus{}type\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{count}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{p}{)}\PY{o}{*}\PY{l+m+mi}{100}\PY{p}{,} \PY{l+m+mi}{2}\PY{p}{)}\PY{p}{)}\PY{o}{+}\PY{n+nb}{str}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZpc{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}
    \PY{n}{idx} \PY{o}{+}\PY{o}{=} \PY{l+m+mi}{1}

  \PY{n}{axx}\PY{o}{.}\PY{n}{set}\PY{p}{(}\PY{n}{xlabel}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Room Type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{ylabel}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Count}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}

  \PY{n}{axy}\PY{o}{.}\PY{n}{hist}\PY{p}{(}\PY{n}{data}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{neighbourhood group}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Bronx}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}\PY{p}{,} \PY{n}{orientation}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{horizontal}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{label}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Bronx}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{color}\PY{o}{=}\PY{n}{unique\PYZus{}colors}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{)}
  \PY{n}{axy}\PY{o}{.}\PY{n}{hist}\PY{p}{(}\PY{n}{data}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{neighbourhood group}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Brooklyn}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}\PY{p}{,} \PY{n}{orientation}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{horizontal}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{label}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Brooklyn}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{color}\PY{o}{=}\PY{n}{unique\PYZus{}colors}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{)}
  \PY{n}{axy}\PY{o}{.}\PY{n}{hist}\PY{p}{(}\PY{n}{data}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{neighbourhood group}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Manhattan}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}\PY{p}{,} \PY{n}{orientation}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{horizontal}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{label}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Manhattan}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{color}\PY{o}{=}\PY{n}{unique\PYZus{}colors}\PY{p}{[}\PY{l+m+mi}{2}\PY{p}{]}\PY{p}{)}
  \PY{n}{axy}\PY{o}{.}\PY{n}{hist}\PY{p}{(}\PY{n}{data}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{neighbourhood group}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Queens}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}\PY{p}{,} \PY{n}{orientation}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{horizontal}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{label}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Queens}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{color}\PY{o}{=}\PY{n}{unique\PYZus{}colors}\PY{p}{[}\PY{l+m+mi}{3}\PY{p}{]}\PY{p}{)}
  \PY{n}{axy}\PY{o}{.}\PY{n}{hist}\PY{p}{(}\PY{n}{data}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{neighbourhood group}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Staten Island}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}\PY{p}{,} \PY{n}{orientation}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{horizontal}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{label}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Staten Island}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{color}\PY{o}{=}\PY{n}{unique\PYZus{}colors}\PY{p}{[}\PY{l+m+mi}{4}\PY{p}{]}\PY{p}{)}

  \PY{n}{axy}\PY{o}{.}\PY{n}{set}\PY{p}{(}\PY{n}{xlabel}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Count}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{ylabel}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Price}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}

  \PY{n}{axy}\PY{o}{.}\PY{n}{legend}\PY{p}{(}\PY{p}{)}

\PY{n}{plot\PYZus{}price\PYZus{}room\PYZus{}type\PYZus{}reviews\PYZus{}per\PYZus{}month\PYZus{}by\PYZus{}neighbourhood\PYZus{}group}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
<ipython-input-29-7ada8a1d2186>:16: FutureWarning: The default of observed=False
is deprecated and will be changed to True in a future version of pandas. Pass
observed=False to retain current behavior or observed=True to adopt the future
default and silence this warning.
  average\_price\_df = data.loc[:, ['price', 'room type', 'neighbourhood
group']].groupby(['room type', 'neighbourhood group']).mean()
    \end{Verbatim}

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{Practical_Project_for_Airbnb_Open_Data_files/Practical_Project_for_Airbnb_Open_Data_97_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    Findings:

\begin{itemize}
\tightlist
\item
  If an entire home /apt is allocated, Staten island contains on an
  average highly priced rented accommodation.
\item
  If a hotel room is allocated as a rented accommodation, Brooklyn
  followed by Manhattan are highly priced accommodations on an average
\item
  For Private Room, it is Bronx on the highest average but Staten Island
  on the lower side on an average
\item
  For shared room, Staten Island is generally expensive and Bronx is
  comparatively cheaper on an average
\end{itemize}

    \hypertarget{research-question-3}{%
\section{3.1 Research Question 3}\label{research-question-3}}

\hypertarget{what-type-of-rooms-for-brooklyn-properties-have-a-high-price-and-high-review-rate-number}{%
\subsection{3.1 What type of Rooms for Brooklyn Properties have a high
Price and high Review Rate
Number?}\label{what-type-of-rooms-for-brooklyn-properties-have-a-high-price-and-high-review-rate-number}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{34}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{c+c1}{\PYZsh{} setup the gridspec 2,2 with one main plot and 2 side plots on x and y axes respectively}
\PY{n}{result} \PY{o}{=} \PY{n}{setup\PYZus{}gridspec\PYZus{}\PYZus{}one\PYZus{}main\PYZus{}\PYZus{}two\PYZus{}side\PYZus{}subplots}\PY{p}{(}\PY{n}{plt}\PY{p}{)}
\PY{c+c1}{\PYZsh{} gridspec}
\PY{n}{gs} \PY{o}{=} \PY{n}{result}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{gridspec}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}
\PY{c+c1}{\PYZsh{} axis}
\PY{n}{ax} \PY{o}{=} \PY{n}{result}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{ax}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}
\PY{c+c1}{\PYZsh{} axis on top parallel to x\PYZhy{}axis}
\PY{n}{axx} \PY{o}{=} \PY{n}{result}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{axx}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}
\PY{c+c1}{\PYZsh{} axis on the side parallel to y\PYZhy{}axis}
\PY{n}{axy} \PY{o}{=} \PY{n}{result}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{axy}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}
\PY{c+c1}{\PYZsh{} figure of the plot}
\PY{n}{fig} \PY{o}{=} \PY{n}{result}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{fig}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]}

\PY{k}{def} \PY{n+nf}{plot\PYZus{}room\PYZus{}type\PYZus{}price\PYZus{}review\PYZus{}rate\PYZus{}number}\PY{p}{(}\PY{p}{)}\PY{p}{:}

  \PY{n}{brooklyn\PYZus{}df} \PY{o}{=} \PY{n}{data}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{neighbourhood group}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Brooklyn}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{room type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{review rate number}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{room type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}
  \PY{n}{room\PYZus{}type} \PY{o}{=} \PY{n}{brooklyn\PYZus{}df}\PY{o}{.}\PY{n}{index}\PY{o}{.}\PY{n}{get\PYZus{}level\PYZus{}values}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{)}

  \PY{n}{unique\PYZus{}colors} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}88E0EF}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}161E54}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}FF5151}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsh{}FF9B6A}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}

  \PY{n}{colors} \PY{o}{=} \PY{n+nb}{dict}\PY{p}{(}\PY{n+nb}{zip}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{unique}\PY{p}{(}\PY{n}{room\PYZus{}type}\PY{p}{)}\PY{p}{,} \PY{n}{unique\PYZus{}colors}\PY{p}{)}\PY{p}{)}

  \PY{n}{ax}\PY{o}{.}\PY{n}{scatter}\PY{p}{(}\PY{n}{brooklyn\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{review rate number}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{brooklyn\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{s}\PY{o}{=}\PY{l+m+mi}{250}\PY{p}{,} \PY{n}{c}\PY{o}{=}\PY{p}{[}\PY{n}{colors}\PY{p}{[}\PY{n}{rt}\PY{p}{]} \PY{k}{for} \PY{n}{rt} \PY{o+ow}{in} \PY{n}{room\PYZus{}type}\PY{p}{]}\PY{p}{,} \PY{n}{label}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Average Price vs Average Review Rate Number for Room Types in Brooklyn}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
  \PY{n}{ax}\PY{o}{.}\PY{n}{set}\PY{p}{(}\PY{n}{xlabel}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Average Review Rate Number}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{ylabel}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Average Price}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
  \PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}title}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Average Price vs Average Review Rate Number for Room Types in Brooklyn}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}

  \PY{c+c1}{\PYZsh{} create custom legend, by creating custom lines}
  \PY{n}{custom\PYZus{}lines} \PY{o}{=} \PY{p}{[}\PY{n}{Line2D}\PY{p}{(}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{,} \PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{,} \PY{n}{color}\PY{o}{=}\PY{n}{colors}\PY{p}{[}\PY{n}{rt}\PY{p}{]}\PY{p}{,} \PY{n}{lw}\PY{o}{=}\PY{l+m+mi}{4}\PY{p}{)} \PY{k}{for} \PY{n}{rt} \PY{o+ow}{in} \PY{n}{np}\PY{o}{.}\PY{n}{unique}\PY{p}{(}\PY{n}{room\PYZus{}type}\PY{p}{)}\PY{p}{]}
  \PY{c+c1}{\PYZsh{} create legend using custom lines}
  \PY{n}{legend1} \PY{o}{=} \PY{n}{ax}\PY{o}{.}\PY{n}{legend}\PY{p}{(}\PY{n}{custom\PYZus{}lines}\PY{p}{,} \PY{n}{np}\PY{o}{.}\PY{n}{unique}\PY{p}{(}\PY{n}{room\PYZus{}type}\PY{p}{)}\PY{p}{,} \PY{n}{loc}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{upper left}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{title}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Room Type}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{framealpha}\PY{o}{=}\PY{l+m+mf}{0.1}\PY{p}{,} \PY{n}{fontsize}\PY{o}{=}\PY{l+m+mi}{20}\PY{p}{)}
  \PY{c+c1}{\PYZsh{} add legend to axis}
  \PY{n}{ax}\PY{o}{.}\PY{n}{add\PYZus{}artist}\PY{p}{(}\PY{n}{legend1}\PY{p}{)}
  \PY{n}{ax}\PY{o}{.}\PY{n}{legend}\PY{p}{(}\PY{p}{)}

  \PY{n}{room\PYZus{}type\PYZus{}df} \PY{o}{=} \PY{n}{data}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{room type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Entire home/apt}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{review rate number}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}\PY{o}{.}\PY{n}{value\PYZus{}counts}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{p}{)}
  \PY{n}{bar\PYZus{}plot1} \PY{o}{=} \PY{n}{axx}\PY{o}{.}\PY{n}{bar}\PY{p}{(}\PY{n}{room\PYZus{}type\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{review rate number}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{room\PYZus{}type\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{count}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{color}\PY{o}{=}\PY{n}{unique\PYZus{}colors}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{,} \PY{n}{label}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Entire home/apt}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
  \PY{n}{idx} \PY{o}{=} \PY{l+m+mi}{0}
  \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n}{bar\PYZus{}plot1}\PY{o}{.}\PY{n}{patches}\PY{p}{:}
    \PY{n}{axx}\PY{o}{.}\PY{n}{text}\PY{p}{(}\PY{n}{i}\PY{o}{.}\PY{n}{get\PYZus{}x}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{i}\PY{o}{.}\PY{n}{get\PYZus{}height}\PY{p}{(}\PY{p}{)} \PY{o}{+} \PY{l+m+mf}{5.0}\PY{p}{,} \PY{n+nb}{str}\PY{p}{(}\PY{n+nb}{round}\PY{p}{(}\PY{n}{room\PYZus{}type\PYZus{}df}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{n}{idx}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{]}\PY{o}{/}\PY{n}{room\PYZus{}type\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{count}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{p}{)}\PY{o}{*}\PY{l+m+mi}{100}\PY{p}{,} \PY{l+m+mi}{2}\PY{p}{)}\PY{p}{)}\PY{o}{+}\PY{n+nb}{str}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZpc{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}
    \PY{n}{idx} \PY{o}{+}\PY{o}{=} \PY{l+m+mi}{1}

  \PY{n}{room\PYZus{}type\PYZus{}df} \PY{o}{=} \PY{n}{data}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{room type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Hotel room}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{review rate number}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}\PY{o}{.}\PY{n}{value\PYZus{}counts}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{p}{)}
  \PY{n}{bar\PYZus{}plot2} \PY{o}{=} \PY{n}{axx}\PY{o}{.}\PY{n}{bar}\PY{p}{(}\PY{n}{room\PYZus{}type\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{review rate number}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{room\PYZus{}type\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{count}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{color}\PY{o}{=}\PY{n}{unique\PYZus{}colors}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{,} \PY{n}{label}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Hotel room}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
  \PY{n}{idx} \PY{o}{=} \PY{l+m+mi}{0}
  \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n}{bar\PYZus{}plot2}\PY{o}{.}\PY{n}{patches}\PY{p}{:}
    \PY{n}{axx}\PY{o}{.}\PY{n}{text}\PY{p}{(}\PY{n}{i}\PY{o}{.}\PY{n}{get\PYZus{}x}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{i}\PY{o}{.}\PY{n}{get\PYZus{}height}\PY{p}{(}\PY{p}{)} \PY{o}{+} \PY{l+m+mf}{5.0}\PY{p}{,} \PY{n+nb}{str}\PY{p}{(}\PY{n+nb}{round}\PY{p}{(}\PY{n}{room\PYZus{}type\PYZus{}df}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{n}{idx}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{]}\PY{o}{/}\PY{n}{room\PYZus{}type\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{count}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{p}{)}\PY{o}{*}\PY{l+m+mi}{100}\PY{p}{,} \PY{l+m+mi}{2}\PY{p}{)}\PY{p}{)}\PY{o}{+}\PY{n+nb}{str}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZpc{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}
    \PY{n}{idx} \PY{o}{+}\PY{o}{=} \PY{l+m+mi}{1}

  \PY{n}{room\PYZus{}type\PYZus{}df} \PY{o}{=} \PY{n}{data}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{room type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Private room}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{review rate number}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}\PY{o}{.}\PY{n}{value\PYZus{}counts}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{p}{)}
  \PY{n}{bar\PYZus{}plot3} \PY{o}{=} \PY{n}{axx}\PY{o}{.}\PY{n}{bar}\PY{p}{(}\PY{n}{room\PYZus{}type\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{review rate number}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{room\PYZus{}type\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{count}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{color}\PY{o}{=}\PY{n}{unique\PYZus{}colors}\PY{p}{[}\PY{l+m+mi}{2}\PY{p}{]}\PY{p}{,} \PY{n}{label}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Private room}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
  \PY{n}{idx} \PY{o}{=} \PY{l+m+mi}{0}
  \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n}{bar\PYZus{}plot3}\PY{o}{.}\PY{n}{patches}\PY{p}{:}
    \PY{n}{axx}\PY{o}{.}\PY{n}{text}\PY{p}{(}\PY{n}{i}\PY{o}{.}\PY{n}{get\PYZus{}x}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{i}\PY{o}{.}\PY{n}{get\PYZus{}height}\PY{p}{(}\PY{p}{)} \PY{o}{+} \PY{l+m+mf}{5.0}\PY{p}{,} \PY{n+nb}{str}\PY{p}{(}\PY{n+nb}{round}\PY{p}{(}\PY{n}{room\PYZus{}type\PYZus{}df}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{n}{idx}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{]}\PY{o}{/}\PY{n}{room\PYZus{}type\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{count}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{p}{)}\PY{o}{*}\PY{l+m+mi}{100}\PY{p}{,} \PY{l+m+mi}{2}\PY{p}{)}\PY{p}{)}\PY{o}{+}\PY{n+nb}{str}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZpc{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}
    \PY{n}{idx} \PY{o}{+}\PY{o}{=} \PY{l+m+mi}{1}

  \PY{n}{room\PYZus{}type\PYZus{}df} \PY{o}{=} \PY{n}{data}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{room type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Shared room}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{review rate number}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}\PY{o}{.}\PY{n}{value\PYZus{}counts}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{p}{)}
  \PY{n}{bar\PYZus{}plot4} \PY{o}{=} \PY{n}{axx}\PY{o}{.}\PY{n}{bar}\PY{p}{(}\PY{n}{room\PYZus{}type\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{review rate number}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{room\PYZus{}type\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{count}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{color}\PY{o}{=}\PY{n}{unique\PYZus{}colors}\PY{p}{[}\PY{l+m+mi}{3}\PY{p}{]}\PY{p}{,} \PY{n}{label}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Shared room}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
  \PY{n}{idx} \PY{o}{=} \PY{l+m+mi}{0}
  \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n}{bar\PYZus{}plot4}\PY{o}{.}\PY{n}{patches}\PY{p}{:}
    \PY{n}{axx}\PY{o}{.}\PY{n}{text}\PY{p}{(}\PY{n}{i}\PY{o}{.}\PY{n}{get\PYZus{}x}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{i}\PY{o}{.}\PY{n}{get\PYZus{}height}\PY{p}{(}\PY{p}{)} \PY{o}{+} \PY{l+m+mf}{5.0}\PY{p}{,} \PY{n+nb}{str}\PY{p}{(}\PY{n+nb}{round}\PY{p}{(}\PY{n}{room\PYZus{}type\PYZus{}df}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{n}{idx}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{]}\PY{o}{/}\PY{n}{room\PYZus{}type\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{count}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{sum}\PY{p}{(}\PY{p}{)}\PY{o}{*}\PY{l+m+mi}{100}\PY{p}{,} \PY{l+m+mi}{2}\PY{p}{)}\PY{p}{)}\PY{o}{+}\PY{n+nb}{str}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZpc{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}
    \PY{n}{idx} \PY{o}{+}\PY{o}{=} \PY{l+m+mi}{1}

  \PY{n}{axx}\PY{o}{.}\PY{n}{set}\PY{p}{(}\PY{n}{xlabel}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Review rate Number}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{ylabel}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Count}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
  \PY{n}{axx}\PY{o}{.}\PY{n}{legend}\PY{p}{(}\PY{p}{)}

  \PY{n}{axy}\PY{o}{.}\PY{n}{hist}\PY{p}{(}\PY{n}{data}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{room type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Entire home/apt}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}\PY{p}{,} \PY{n}{orientation}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{horizontal}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{color}\PY{o}{=}\PY{n}{unique\PYZus{}colors}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{,} \PY{n}{label}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Entire home/apt}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
  \PY{n}{axy}\PY{o}{.}\PY{n}{hist}\PY{p}{(}\PY{n}{data}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{room type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Hotel room}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}\PY{p}{,} \PY{n}{orientation}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{horizontal}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{color}\PY{o}{=}\PY{n}{unique\PYZus{}colors}\PY{p}{[}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{,} \PY{n}{label}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Hotel room}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
  \PY{n}{axy}\PY{o}{.}\PY{n}{hist}\PY{p}{(}\PY{n}{data}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{room type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Private room}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}\PY{p}{,} \PY{n}{orientation}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{horizontal}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{color}\PY{o}{=}\PY{n}{unique\PYZus{}colors}\PY{p}{[}\PY{l+m+mi}{2}\PY{p}{]}\PY{p}{,} \PY{n}{label}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Private room}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
  \PY{n}{axy}\PY{o}{.}\PY{n}{hist}\PY{p}{(}\PY{n}{data}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{room type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Shared room}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}\PY{p}{,} \PY{n}{orientation}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{horizontal}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{color}\PY{o}{=}\PY{n}{unique\PYZus{}colors}\PY{p}{[}\PY{l+m+mi}{3}\PY{p}{]}\PY{p}{,} \PY{n}{label}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Shared room}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
  \PY{n}{axy}\PY{o}{.}\PY{n}{legend}\PY{p}{(}\PY{p}{)}
  \PY{n}{axy}\PY{o}{.}\PY{n}{set}\PY{p}{(}\PY{n}{xlabel}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Count}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{ylabel}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Price}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}

\PY{n}{plot\PYZus{}room\PYZus{}type\PYZus{}price\PYZus{}review\PYZus{}rate\PYZus{}number}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
<ipython-input-34-bbcba0ab965e>:16: FutureWarning: The default of observed=False
is deprecated and will be changed to True in a future version of pandas. Pass
observed=False to retain current behavior or observed=True to adopt the future
default and silence this warning.
  brooklyn\_df = data.loc[data['neighbourhood group'] == 'Brooklyn', ['room
type', 'price', 'review rate number']].groupby(['room type']).mean()
    \end{Verbatim}

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{Practical_Project_for_Airbnb_Open_Data_files/Practical_Project_for_Airbnb_Open_Data_100_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \textbf{Hotel rooms have a high Average Price and high Average Review
rate Number}

    \hypertarget{research-question-4}{%
\section{4.1 Research Question 4}\label{research-question-4}}

\hypertarget{at-what-construction-year-are-highly-priced-rented-properties-available-for-rent}{%
\subsection{4.1 At what construction year are highly priced rented
properties available for
rent?}\label{at-what-construction-year-are-highly-priced-rented-properties-available-for-rent}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{year\PYZus{}df} \PY{o}{=} \PY{n}{data}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Construction year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Construction year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}

\PY{n}{fig}\PY{p}{,} \PY{n}{ax} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{subplots}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{,}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{12}\PY{p}{,}\PY{l+m+mi}{8}\PY{p}{)}\PY{p}{)}
\PY{n}{plot\PYZus{}bars} \PY{o}{=} \PY{n}{ax}\PY{o}{.}\PY{n}{bar}\PY{p}{(}\PY{n}{year\PYZus{}df}\PY{o}{.}\PY{n}{index}\PY{p}{,} \PY{n}{year\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{label}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Construction year vs Average Price of rented properties}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\PY{n}{ax}\PY{o}{.}\PY{n}{set}\PY{p}{(}\PY{n}{xlabel}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Construction Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{ylabel}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Average Price}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}title}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Construction year vs Average Price of rented properties}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}ylim}\PY{p}{(}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{l+m+mi}{750}\PY{p}{)}\PY{p}{)}

\PY{c+c1}{\PYZsh{} display percentage as text for bars representing low impact.}
\PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n}{plot\PYZus{}bars}\PY{o}{.}\PY{n}{patches}\PY{p}{:}
  \PY{n}{plt}\PY{o}{.}\PY{n}{text}\PY{p}{(}\PY{n}{i}\PY{o}{.}\PY{n}{get\PYZus{}x}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{i}\PY{o}{.}\PY{n}{get\PYZus{}height}\PY{p}{(}\PY{p}{)}\PY{o}{+}\PY{l+m+mf}{2.0}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZdl{}}\PY{l+s+s1}{\PYZsq{}}\PY{o}{+}\PY{n+nb}{str}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{float16}\PY{p}{(}\PY{n}{i}\PY{o}{.}\PY{n}{get\PYZus{}height}\PY{p}{(}\PY{p}{)}\PY{p}{)}\PY{p}{)}\PY{p}{,} \PY{n}{fontsize}\PY{o}{=}\PY{l+m+mi}{9}\PY{p}{,} \PY{n}{color}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{0}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{rotation}\PY{o}{=}\PY{l+m+mi}{45}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{Practical_Project_for_Airbnb_Open_Data_files/Practical_Project_for_Airbnb_Open_Data_103_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \textbf{At year 2008, we have seen highly priced Rented Properties.}

    \hypertarget{research-question-5}{%
\section{5.1 Research Question 5}\label{research-question-5}}

\hypertarget{what-is-the-relation-between-construction-year-availability-for-the-year-and-number-of-reviews}{%
\subsection{5.1 What is the relation between Construction year,
availability for the year and Number of
Reviews?}\label{what-is-the-relation-between-construction-year-availability-for-the-year-and-number-of-reviews}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{41}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{fig}\PY{p}{,} \PY{n}{ax} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{subplots}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{,} \PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{16}\PY{p}{,}\PY{l+m+mi}{12}\PY{p}{)}\PY{p}{)}

\PY{k}{def} \PY{n+nf}{plot\PYZus{}construction\PYZus{}year\PYZus{}availability\PYZus{}year\PYZus{}number\PYZus{}of\PYZus{}reviews}\PY{p}{(}\PY{p}{)}\PY{p}{:}

  \PY{n}{year\PYZus{}df} \PY{o}{=} \PY{n}{data}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Construction year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{availability 365}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{number of reviews}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Construction year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}

  \PY{n}{colors1} \PY{o}{=} \PY{n}{sns}\PY{o}{.}\PY{n}{color\PYZus{}palette}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Spectral}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{as\PYZus{}cmap}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}

  \PY{k}{for} \PY{n}{idx}\PY{p}{,} \PY{n}{year} \PY{o+ow}{in} \PY{n+nb}{enumerate}\PY{p}{(}\PY{n}{year\PYZus{}df}\PY{o}{.}\PY{n}{index}\PY{p}{)}\PY{p}{:}
    \PY{n}{ax}\PY{o}{.}\PY{n}{scatter}\PY{p}{(}\PY{n}{year\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{year}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{availability 365}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{year\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{year}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{number of reviews}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{label}\PY{o}{=}\PY{n+nb}{int}\PY{p}{(}\PY{n}{year}\PY{p}{)}\PY{p}{,} \PY{n}{c}\PY{o}{=}\PY{n}{colors1}\PY{o}{.}\PY{n}{\PYZus{}lut}\PY{p}{[}\PY{n}{idx}\PY{o}{*}\PY{l+m+mi}{13}\PY{p}{]}\PY{p}{,} \PY{n}{s}\PY{o}{=}\PY{p}{(}\PY{n}{year}\PY{o}{\PYZhy{}}\PY{l+m+mi}{2000}\PY{p}{)}\PY{o}{/}\PY{p}{(}\PY{l+m+mi}{2022}\PY{o}{\PYZhy{}}\PY{l+m+mi}{2002}\PY{p}{)}\PY{o}{*}\PY{n}{year}\PY{o}{*}\PY{l+m+mf}{0.75}\PY{p}{)}
  \PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}label}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Average Availability for the year vs Average Number of Reviews for the Construction Year}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
  \PY{n}{ax}\PY{o}{.}\PY{n}{set}\PY{p}{(}\PY{n}{xlabel}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Availability for the Year}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{ylabel}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Number of Reviews}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
  \PY{n}{ax}\PY{o}{.}\PY{n}{legend}\PY{p}{(}\PY{p}{)}

\PY{n}{plot\PYZus{}construction\PYZus{}year\PYZus{}availability\PYZus{}year\PYZus{}number\PYZus{}of\PYZus{}reviews}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
<ipython-input-41-1043f9b3fffb>:10: UserWarning: *c* argument looks like a
single numeric RGB or RGBA sequence, which should be avoided as value-mapping
will have precedence in case its length matches with *x* \& *y*.  Please use the
*color* keyword-argument or provide a 2D array with a single row if you intend
to specify the same RGB or RGBA value for all points.
  ax.scatter(year\_df.loc[year, 'availability 365'], year\_df.loc[year, 'number of
reviews'], label=int(year), c=colors1.\_lut[idx*13],
s=(year-2000)/(2022-2002)*year*0.75)
    \end{Verbatim}

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{Practical_Project_for_Airbnb_Open_Data_files/Practical_Project_for_Airbnb_Open_Data_106_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \textbf{Findings:}

\begin{itemize}
\tightlist
\item
  \textbf{Year 2011, is the year for highest Average Availability for
  the year and highest average number of reviews}
\item
  \textbf{Year 2013, denotes where the Average Number of Reviews is
  least}
\item
  \textbf{Year 2016, denotes where the Average Availability for the Year
  is the least}
\end{itemize}

    \hypertarget{research-question-6}{%
\section{6.1 Research Question 6}\label{research-question-6}}

\hypertarget{what-is-the-relation-between-cancellation-policy-room-type-and-neighbourhood-group}{%
\subsection{6.1 What is the relation between Cancellation Policy, Room
Type and Neighbourhood
Group?}\label{what-is-the-relation-between-cancellation-policy-room-type-and-neighbourhood-group}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{price\PYZus{}df} \PY{o}{=} \PY{n}{data}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{cancellation\PYZus{}policy}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{room type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{neighbourhood group}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{cancellation\PYZus{}policy}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{room type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{neighbourhood group}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}
\PY{n}{cancellation\PYZus{}policy} \PY{o}{=} \PY{n}{price\PYZus{}df}\PY{o}{.}\PY{n}{index}\PY{o}{.}\PY{n}{get\PYZus{}level\PYZus{}values}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{)}
\PY{n}{room\PYZus{}type} \PY{o}{=} \PY{n}{price\PYZus{}df}\PY{o}{.}\PY{n}{index}\PY{o}{.}\PY{n}{get\PYZus{}level\PYZus{}values}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{neighbourhood\PYZus{}group} \PY{o}{=} \PY{n}{price\PYZus{}df}\PY{o}{.}\PY{n}{index}\PY{o}{.}\PY{n}{get\PYZus{}level\PYZus{}values}\PY{p}{(}\PY{l+m+mi}{2}\PY{p}{)}
\PY{n}{price\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{cancellation\PYZus{}policy}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{cancellation\PYZus{}policy}
\PY{n}{price\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{room type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{room\PYZus{}type}
\PY{n}{price\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{neighbourhood group}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{neighbourhood\PYZus{}group}

\PY{n}{price\PYZus{}df}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{n}{labels}\PY{o}{=}\PY{n}{price\PYZus{}df}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{pd}\PY{o}{.}\PY{n}{isna}\PY{p}{(}\PY{n}{price\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)} \PY{o}{==} \PY{k+kc}{True}\PY{p}{]}\PY{o}{.}\PY{n}{index}\PY{p}{,} \PY{n}{inplace}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}

\PY{n}{fig} \PY{o}{=} \PY{n}{px}\PY{o}{.}\PY{n}{treemap}\PY{p}{(}\PY{n}{price\PYZus{}df}\PY{p}{,} \PY{n}{path}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{cancellation\PYZus{}policy}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{room type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{neighbourhood group}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{values}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{color}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{hover\PYZus{}data}\PY{o}{=}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{color\PYZus{}continuous\PYZus{}scale}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{RdBu}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}

\PY{n}{fig}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
<ipython-input-20-f2889f5d80f0>:1: FutureWarning:

The default of observed=False is deprecated and will be changed to True in a
future version of pandas. Pass observed=False to retain current behavior or
observed=True to adopt the future default and silence this warning.

/usr/local/lib/python3.10/dist-packages/plotly/express/\_core.py:1727:
FutureWarning:

The default of observed=False is deprecated and will be changed to True in a
future version of pandas. Pass observed=False to retain current behavior or
observed=True to adopt the future default and silence this warning.

/usr/local/lib/python3.10/dist-packages/plotly/express/\_core.py:1727:
FutureWarning:

The default of observed=False is deprecated and will be changed to True in a
future version of pandas. Pass observed=False to retain current behavior or
observed=True to adopt the future default and silence this warning.

/usr/local/lib/python3.10/dist-packages/plotly/express/\_core.py:1727:
FutureWarning:

The default of observed=False is deprecated and will be changed to True in a
future version of pandas. Pass observed=False to retain current behavior or
observed=True to adopt the future default and silence this warning.

    \end{Verbatim}

    
    
    \textbf{Findings:}

\begin{itemize}
\tightlist
\item
  \textbf{Hotel Rooms have varying Prices and have lower pricing in
  moderate cancellation policy}
\item
  \textbf{As observed earlier the Average Prices for Hotel Rooms is
  generally higher, but here they dominate the Prices}
\item
  \textbf{Private Rooms are having almost the same distribution of
  Prices throughout the Cancellation Policies}
\item
  \textbf{Brooklyn for Hotel Room except moderate policy and Staten
  Island for Shared Room are having generally higher Prices}
\end{itemize}

    \hypertarget{research-question-7}{%
\section{7.1 Research Question 7}\label{research-question-7}}

\hypertarget{what-is-the-relation-between-priceservice-fee-minimum-nights-and-number-of-reviews}{%
\subsection{7.1 What is the relation between Price/Service fee, minimum
nights and number of
reviews?}\label{what-is-the-relation-between-priceservice-fee-minimum-nights-and-number-of-reviews}}

\begin{itemize}
\tightlist
\item
  \textbf{Price and Service fee are highly correlated so we can omit one
  attribute (Service Fee)}
\end{itemize}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{price\PYZus{}df} \PY{o}{=} \PY{n}{data}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{number of reviews}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{minimum nights}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{n}{labels}\PY{o}{=}\PY{n}{data}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{pd}\PY{o}{.}\PY{n}{isna}\PY{p}{(}\PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{minimum nights}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)} \PY{o}{==} \PY{k+kc}{True}\PY{p}{]}\PY{o}{.}\PY{n}{index}\PY{p}{)}\PY{o}{.}\PY{n}{sort\PYZus{}values}\PY{p}{(}\PY{n}{by}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{minimum nights}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}

\PY{n}{fig}\PY{p}{,} \PY{n}{ax} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{subplots}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{,}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{12}\PY{p}{,}\PY{l+m+mi}{8}\PY{p}{)}\PY{p}{)}

\PY{n}{colors} \PY{o}{=} \PY{n}{sns}\PY{o}{.}\PY{n}{color\PYZus{}palette}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Spectral}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{as\PYZus{}cmap}\PY{o}{=}\PY{k+kc}{True}\PY{p}{)}

\PY{n}{min\PYZus{}nights\PYZus{}array} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{arange}\PY{p}{(}\PY{n}{price\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{minimum nights}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{min}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{price\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{minimum nights}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{max}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{l+m+mi}{120}\PY{p}{)}
\PY{n}{count} \PY{o}{=} \PY{n}{price\PYZus{}df}\PY{o}{.}\PY{n}{count}\PY{p}{(}\PY{p}{)}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}

\PY{k}{for} \PY{n}{idx}\PY{p}{,} \PY{n}{min\PYZus{}night} \PY{o+ow}{in} \PY{n+nb}{enumerate}\PY{p}{(}\PY{n}{min\PYZus{}nights\PYZus{}array}\PY{p}{)}\PY{p}{:}
  \PY{k}{if} \PY{p}{(}\PY{n}{idx} \PY{o}{\PYZlt{}} \PY{n+nb}{len}\PY{p}{(}\PY{n}{min\PYZus{}nights\PYZus{}array}\PY{p}{)} \PY{o}{\PYZhy{}} \PY{l+m+mi}{1}\PY{p}{)}\PY{p}{:}
    \PY{n}{ax}\PY{o}{.}\PY{n}{scatter}\PY{p}{(}\PY{n}{price\PYZus{}df}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{n+nb}{int}\PY{p}{(}\PY{n}{idx}\PY{o}{*}\PY{n}{count}\PY{o}{/}\PY{o}{/}\PY{l+m+mi}{120}\PY{p}{)}\PY{p}{:}\PY{n+nb}{int}\PY{p}{(}\PY{p}{(}\PY{n}{idx}\PY{o}{+}\PY{l+m+mi}{1}\PY{p}{)}\PY{o}{*}\PY{n}{count}\PY{o}{/}\PY{o}{/}\PY{l+m+mi}{120}\PY{p}{)}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{]}\PY{p}{,} \PY{n}{price\PYZus{}df}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{n+nb}{int}\PY{p}{(}\PY{n}{idx}\PY{o}{*}\PY{n}{count}\PY{o}{/}\PY{o}{/}\PY{l+m+mi}{120}\PY{p}{)}\PY{p}{:}\PY{n+nb}{int}\PY{p}{(}\PY{p}{(}\PY{n}{idx}\PY{o}{+}\PY{l+m+mi}{1}\PY{p}{)}\PY{o}{*}\PY{n}{count}\PY{o}{/}\PY{o}{/}\PY{l+m+mi}{120}\PY{p}{)}\PY{p}{,} \PY{l+m+mi}{0}\PY{p}{]}\PY{p}{,} \PY{n}{c}\PY{o}{=}\PY{n}{colors}\PY{o}{.}\PY{n}{\PYZus{}lut}\PY{p}{[}\PY{n+nb}{int}\PY{p}{(}\PY{n}{idx}\PY{o}{*}\PY{l+m+mf}{2.1}\PY{p}{)}\PY{p}{]}\PY{p}{,} \PY{n}{s}\PY{o}{=}\PY{l+m+mi}{250}\PY{p}{,} \PY{n}{label}\PY{o}{=}\PY{n+nb}{str}\PY{p}{(}\PY{n}{min\PYZus{}night}\PY{p}{)} \PY{o}{+} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ to }\PY{l+s+s1}{\PYZsq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{min\PYZus{}nights\PYZus{}array}\PY{p}{[}\PY{n}{idx}\PY{o}{+}\PY{l+m+mi}{1}\PY{p}{]}\PY{p}{)}\PY{p}{)}
\PY{n}{ax}\PY{o}{.}\PY{n}{scatter}\PY{p}{(}\PY{n}{price\PYZus{}df}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{n+nb}{int}\PY{p}{(}\PY{n}{idx}\PY{o}{*}\PY{n}{count}\PY{o}{/}\PY{o}{/}\PY{l+m+mi}{120}\PY{p}{)}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{]}\PY{p}{,} \PY{n}{price\PYZus{}df}\PY{o}{.}\PY{n}{iloc}\PY{p}{[}\PY{n+nb}{int}\PY{p}{(}\PY{n}{idx}\PY{o}{*}\PY{n}{count}\PY{o}{/}\PY{o}{/}\PY{l+m+mi}{120}\PY{p}{)}\PY{p}{:}\PY{p}{,} \PY{l+m+mi}{0}\PY{p}{]}\PY{p}{,} \PY{n}{c}\PY{o}{=}\PY{n}{colors}\PY{o}{.}\PY{n}{\PYZus{}lut}\PY{p}{[}\PY{n+nb}{int}\PY{p}{(}\PY{n}{idx}\PY{o}{*}\PY{l+m+mf}{2.1}\PY{p}{)}\PY{p}{]}\PY{p}{,} \PY{n}{s}\PY{o}{=}\PY{l+m+mi}{250}\PY{p}{,} \PY{n}{label}\PY{o}{=}\PY{n+nb}{str}\PY{p}{(}\PY{n}{min\PYZus{}night}\PY{p}{)} \PY{o}{+} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ to }\PY{l+s+s1}{\PYZsq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{price\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{minimum nights}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{max}\PY{p}{(}\PY{p}{)}\PY{p}{)}\PY{p}{)}
\PY{n}{ax}\PY{o}{.}\PY{n}{set}\PY{p}{(}\PY{n}{xlabel}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Price}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{ylabel}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Number of Reviews}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}title}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Number of Reviews vs Price for the various ranges of Minimum Nights}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\PY{n}{ax}\PY{o}{.}\PY{n}{legend}\PY{p}{(}\PY{n}{title}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Ranges of Minimum Nights}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
<ipython-input-64-e7da89357a72>:12: UserWarning:

*c* argument looks like a single numeric RGB or RGBA sequence, which should be
avoided as value-mapping will have precedence in case its length matches with
*x* \& *y*.  Please use the *color* keyword-argument or provide a 2D array with a
single row if you intend to specify the same RGB or RGBA value for all points.

<ipython-input-64-e7da89357a72>:13: UserWarning:

*c* argument looks like a single numeric RGB or RGBA sequence, which should be
avoided as value-mapping will have precedence in case its length matches with
*x* \& *y*.  Please use the *color* keyword-argument or provide a 2D array with a
single row if you intend to specify the same RGB or RGBA value for all points.

    \end{Verbatim}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
<matplotlib.legend.Legend at 0x7abf49465c60>
\end{Verbatim}
\end{tcolorbox}
        
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{Practical_Project_for_Airbnb_Open_Data_files/Practical_Project_for_Airbnb_Open_Data_112_2.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \textbf{Findings:}

\begin{itemize}
\tightlist
\item
  \textbf{For negative minimum nights there are a lot of reviews}
\item
  \textbf{For positive Minimum Nights there are a lot of reviews but
  predominantly they lie at the bottom side of number of reviews}
\end{itemize}

    \hypertarget{research-question-8}{%
\section{8.1 Research Question 8}\label{research-question-8}}

\hypertarget{what-is-the-relation-between-priceservice-fee-and-availability-for-the-year}{%
\subsection{8.1 What is the relation between Price/Service fee and
Availability for the
Year?}\label{what-is-the-relation-between-priceservice-fee-and-availability-for-the-year}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{price\PYZus{}df} \PY{o}{=} \PY{n}{data}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{availability 365}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}

\PY{n}{fig}\PY{p}{,} \PY{p}{(}\PY{n}{ax1}\PY{p}{,} \PY{n}{ax2}\PY{p}{)} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{subplots}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{2}\PY{p}{,} \PY{n}{figsize} \PY{o}{=} \PY{p}{(}\PY{l+m+mi}{16}\PY{p}{,}\PY{l+m+mi}{8}\PY{p}{)}\PY{p}{)}

\PY{n}{sns}\PY{o}{.}\PY{n}{heatmap}\PY{p}{(}\PY{n}{price\PYZus{}df}\PY{o}{.}\PY{n}{corr}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{annot}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{ax}\PY{o}{=}\PY{n}{ax1}\PY{p}{)}
\PY{n}{ax2}\PY{o}{.}\PY{n}{scatter}\PY{p}{(}\PY{n}{price\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{price\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{availability 365}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
<matplotlib.collections.PathCollection at 0x7abef8bda6e0>
\end{Verbatim}
\end{tcolorbox}
        
    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{Practical_Project_for_Airbnb_Open_Data_files/Practical_Project_for_Airbnb_Open_Data_115_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \textbf{Findings:}

\begin{itemize}
\tightlist
\item
  \textbf{Price and Availability 365 (Availability for the Year)
  attributes are highly decorrelated}
\item
  \textbf{In the scatter plot, there is an outlier for Availability 365
  as shown in the box plot earlier}
\end{itemize}

    \hypertarget{research-question-9}{%
\section{9.1 Research Question 9}\label{research-question-9}}

\hypertarget{what-is-the-cancellation-policy-for-manhattan-properties-based-on-room-types}{%
\subsection{9.1 What is the cancellation policy for Manhattan Properties
based on Room
Types?}\label{what-is-the-cancellation-policy-for-manhattan-properties-based-on-room-types}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{manhattan\PYZus{}df} \PY{o}{=} \PY{n}{data}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{n}{data}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{neighbourhood group}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Manhattan}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{room type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{cancellation\PYZus{}policy}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}

\PY{n}{fig}\PY{p}{,} \PY{p}{(}\PY{n}{ax1}\PY{p}{,} \PY{n}{ax2}\PY{p}{)} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{subplots}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{2}\PY{p}{,}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{20}\PY{p}{,}\PY{l+m+mi}{8}\PY{p}{)}\PY{p}{)}

\PY{n}{crosstab\PYZus{}df} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{crosstab}\PY{p}{(}\PY{n}{manhattan\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{room type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{manhattan\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{cancellation\PYZus{}policy}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}

\PY{n}{sns}\PY{o}{.}\PY{n}{heatmap}\PY{p}{(}\PY{n}{crosstab\PYZus{}df}\PY{p}{,} \PY{n}{annot}\PY{o}{=}\PY{k+kc}{True}\PY{p}{,} \PY{n}{ax}\PY{o}{=}\PY{n}{ax1}\PY{p}{)}
\PY{n}{group\PYZus{}df} \PY{o}{=} \PY{n}{manhattan\PYZus{}df}\PY{o}{.}\PY{n}{groupby}\PY{p}{(}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{room type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{cancellation\PYZus{}policy}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{o}{.}\PY{n}{mean}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{reset\PYZus{}index}\PY{p}{(}\PY{p}{)}

\PY{n}{group\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{new\PYZus{}attribute}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{n}{group\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{room type}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{string}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)} \PY{o}{+} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{ \PYZam{} }\PY{l+s+s2}{\PYZdq{}} \PY{o}{+} \PY{n}{group\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{cancellation\PYZus{}policy}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{astype}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{string}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\PY{n}{ax2}\PY{o}{.}\PY{n}{plot}\PY{p}{(}\PY{n}{group\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{new\PYZus{}attribute}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{group\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{price}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{ls}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{dashed}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{lw}\PY{o}{=}\PY{l+m+mi}{5}\PY{p}{)}
\PY{n}{ax2}\PY{o}{.}\PY{n}{set\PYZus{}xticks}\PY{p}{(}\PY{n}{group\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{new\PYZus{}attribute}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
\PY{n}{ax2}\PY{o}{.}\PY{n}{set\PYZus{}xticklabels}\PY{p}{(}\PY{n}{group\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{new\PYZus{}attribute}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{rotation}\PY{o}{=}\PY{l+m+mi}{90}\PY{p}{)}
\PY{n}{ax}\PY{o}{.}\PY{n}{legend}\PY{p}{(}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
<ipython-input-120-d13798f02d8e>:8: FutureWarning:

The default of observed=False is deprecated and will be changed to True in a
future version of pandas. Pass observed=False to retain current behavior or
observed=True to adopt the future default and silence this warning.

WARNING:matplotlib.legend:No artists with labels found to put in legend.  Note
that artists whose label start with an underscore are ignored when legend() is
called with no argument.
    \end{Verbatim}

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{Practical_Project_for_Airbnb_Open_Data_files/Practical_Project_for_Airbnb_Open_Data_118_1.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \hypertarget{research-question-10}{%
\section{10.1 Research Question 10}\label{research-question-10}}

\hypertarget{at-what-reviews-per-month-are-host-listings-calculated}{%
\subsection{10.1 At what reviews per month are host listings
calculated?}\label{at-what-reviews-per-month-are-host-listings-calculated}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{price\PYZus{}df} \PY{o}{=} \PY{n}{data}\PY{o}{.}\PY{n}{loc}\PY{p}{[}\PY{p}{:}\PY{p}{,} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{reviews per month}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{calculated host listings count}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{]}

\PY{n}{fig}\PY{p}{,} \PY{n}{ax} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{subplots}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{1}\PY{p}{,} \PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{12}\PY{p}{,}\PY{l+m+mi}{8}\PY{p}{)}\PY{p}{)}

\PY{n}{ax}\PY{o}{.}\PY{n}{scatter}\PY{p}{(}\PY{n}{price\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{reviews per month}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{price\PYZus{}df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{calculated host listings count}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}
\PY{n}{ax}\PY{o}{.}\PY{n}{set}\PY{p}{(}\PY{n}{xlabel}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Reviews Per Month}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{ylabel}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Count of Calculated Host Listings}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}title}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Count of Calculated Host Listings vs Reviews Per Month}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
\PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{Practical_Project_for_Airbnb_Open_Data_files/Practical_Project_for_Airbnb_Open_Data_120_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \textbf{Findings:}

\begin{itemize}
\tightlist
\item
  \textbf{At close to 0 to 2 reviews per month, the Host Listings Counts
  are Highly Calculated}
\item
  \textbf{At a minimum Host Listings Count, the Reviews Per Month are
  seen as Maximum}
\end{itemize}


    % Add a bibliography block to the postdoc
    
    
    
\end{document}
